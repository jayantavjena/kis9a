(()=>{var J=(T,F)=>()=>(F||T((F={exports:{}}).exports,F),F.exports);var j=J((N,Q)=>{(function(F,x){typeof N=="object"&&typeof Q=="object"?Q.exports=x():typeof define=="function"&&define.amd?define("Matter",[],x):typeof N=="object"?N.Matter=x():F.Matter=x()})(N,function(){return function(T){var F={};function x(e){if(F[e])return F[e].exports;var o=F[e]={i:e,l:!1,exports:{}};return T[e].call(o.exports,o,o.exports,x),o.l=!0,o.exports}return x.m=T,x.c=F,x.d=function(e,o,a){x.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:a})},x.r=function(e){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},x.t=function(e,o){if(o&1&&(e=x(e)),o&8||o&4&&typeof e=="object"&&e&&e.__esModule)return e;var a=Object.create(null);if(x.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),o&2&&typeof e!="string")for(var n in e)x.d(a,n,function(v){return e[v]}.bind(null,n));return a},x.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return x.d(o,"a",o),o},x.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},x.p="",x(x.s=22)}([function(T,F){var x={};T.exports=x,function(){x._nextId=0,x._seed=0,x._nowStartTime=+new Date,x._warnedOnce={},x._decomp=null,x.extend=function(o,a){var n,v,r;typeof a=="boolean"?(n=2,r=a):(n=1,r=!0);for(var f=n;f<arguments.length;f++){var i=arguments[f];if(i)for(var s in i)r&&i[s]&&i[s].constructor===Object&&(!o[s]||o[s].constructor===Object)?(o[s]=o[s]||{},x.extend(o[s],r,i[s])):o[s]=i[s]}return o},x.clone=function(o,a){return x.extend({},a,o)},x.keys=function(o){if(Object.keys)return Object.keys(o);var a=[];for(var n in o)a.push(n);return a},x.values=function(o){var a=[];if(Object.keys){for(var n=Object.keys(o),v=0;v<n.length;v++)a.push(o[n[v]]);return a}for(var r in o)a.push(o[r]);return a},x.get=function(o,a,n,v){a=a.split(".").slice(n,v);for(var r=0;r<a.length;r+=1)o=o[a[r]];return o},x.set=function(o,a,n,v,r){var f=a.split(".").slice(v,r);return x.get(o,a,0,-1)[f[f.length-1]]=n,n},x.shuffle=function(o){for(var a=o.length-1;a>0;a--){var n=Math.floor(x.random()*(a+1)),v=o[a];o[a]=o[n],o[n]=v}return o},x.choose=function(o){return o[Math.floor(x.random()*o.length)]},x.isElement=function(o){return typeof HTMLElement!="undefined"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},x.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},x.isFunction=function(o){return typeof o=="function"},x.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},x.isString=function(o){return toString.call(o)==="[object String]"},x.clamp=function(o,a,n){return o<a?a:o>n?n:o},x.sign=function(o){return o<0?-1:1},x.now=function(){if(typeof window!="undefined"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-x._nowStartTime},x.random=function(o,a){return o=typeof o!="undefined"?o:0,a=typeof a!="undefined"?a:1,o+e()*(a-o)};var e=function(){return x._seed=(x._seed*9301+49297)%233280,x._seed/233280};x.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},x.logLevel=1,x.log=function(){console&&x.logLevel>0&&x.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},x.info=function(){console&&x.logLevel>0&&x.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},x.warn=function(){console&&x.logLevel>0&&x.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},x.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");x._warnedOnce[o]||(x.warn(o),x._warnedOnce[o]=!0)},x.deprecated=function(o,a,n){o[a]=x.chain(function(){x.warnOnce("\u{1F505} deprecated \u{1F505}",n)},o[a])},x.nextId=function(){return x._nextId++},x.indexOf=function(o,a){if(o.indexOf)return o.indexOf(a);for(var n=0;n<o.length;n++)if(o[n]===a)return n;return-1},x.map=function(o,a){if(o.map)return o.map(a);for(var n=[],v=0;v<o.length;v+=1)n.push(a(o[v]));return n},x.topologicalSort=function(o){var a=[],n=[],v=[];for(var r in o)!n[r]&&!v[r]&&x._topologicalSort(r,n,v,o,a);return a},x._topologicalSort=function(o,a,n,v,r){var f=v[o]||[];n[o]=!0;for(var i=0;i<f.length;i+=1){var s=f[i];n[s]||a[s]||x._topologicalSort(s,a,n,v,r)}n[o]=!1,a[o]=!0,r.push(o)},x.chain=function(){for(var o=[],a=0;a<arguments.length;a+=1){var n=arguments[a];n._chained?o.push.apply(o,n._chained):o.push(n)}var v=function(){for(var r,f=new Array(arguments.length),i=0,s=arguments.length;i<s;i++)f[i]=arguments[i];for(i=0;i<o.length;i+=1){var t=o[i].apply(r,f);typeof t!="undefined"&&(r=t)}return r};return v._chained=o,v},x.chainPathBefore=function(o,a,n){return x.set(o,a,x.chain(n,x.get(o,a)))},x.chainPathAfter=function(o,a,n){return x.set(o,a,x.chain(x.get(o,a),n))},x.setDecomp=function(o){x._decomp=o},x.getDecomp=function(){var o=x._decomp;try{!o&&typeof window!="undefined"&&(o=window.decomp),!o&&typeof global!="undefined"&&(o=global.decomp)}catch(a){o=null}return o}}()},function(T,F){var x={};T.exports=x,function(){x.create=function(e){var o={min:{x:0,y:0},max:{x:0,y:0}};return e&&x.update(o,e),o},x.update=function(e,o,a){e.min.x=Infinity,e.max.x=-Infinity,e.min.y=Infinity,e.max.y=-Infinity;for(var n=0;n<o.length;n++){var v=o[n];v.x>e.max.x&&(e.max.x=v.x),v.x<e.min.x&&(e.min.x=v.x),v.y>e.max.y&&(e.max.y=v.y),v.y<e.min.y&&(e.min.y=v.y)}a&&(a.x>0?e.max.x+=a.x:e.min.x+=a.x,a.y>0?e.max.y+=a.y:e.min.y+=a.y)},x.contains=function(e,o){return o.x>=e.min.x&&o.x<=e.max.x&&o.y>=e.min.y&&o.y<=e.max.y},x.overlaps=function(e,o){return e.min.x<=o.max.x&&e.max.x>=o.min.x&&e.max.y>=o.min.y&&e.min.y<=o.max.y},x.translate=function(e,o){e.min.x+=o.x,e.max.x+=o.x,e.min.y+=o.y,e.max.y+=o.y},x.shift=function(e,o){var a=e.max.x-e.min.x,n=e.max.y-e.min.y;e.min.x=o.x,e.max.x=o.x+a,e.min.y=o.y,e.max.y=o.y+n}}()},function(T,F){var x={};T.exports=x,function(){x.create=function(e,o){return{x:e||0,y:o||0}},x.clone=function(e){return{x:e.x,y:e.y}},x.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},x.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},x.rotate=function(e,o,a){var n=Math.cos(o),v=Math.sin(o);a||(a={});var r=e.x*n-e.y*v;return a.y=e.x*v+e.y*n,a.x=r,a},x.rotateAbout=function(e,o,a,n){var v=Math.cos(o),r=Math.sin(o);n||(n={});var f=a.x+((e.x-a.x)*v-(e.y-a.y)*r);return n.y=a.y+((e.x-a.x)*r+(e.y-a.y)*v),n.x=f,n},x.normalise=function(e){var o=x.magnitude(e);return o===0?{x:0,y:0}:{x:e.x/o,y:e.y/o}},x.dot=function(e,o){return e.x*o.x+e.y*o.y},x.cross=function(e,o){return e.x*o.y-e.y*o.x},x.cross3=function(e,o,a){return(o.x-e.x)*(a.y-e.y)-(o.y-e.y)*(a.x-e.x)},x.add=function(e,o,a){return a||(a={}),a.x=e.x+o.x,a.y=e.y+o.y,a},x.sub=function(e,o,a){return a||(a={}),a.x=e.x-o.x,a.y=e.y-o.y,a},x.mult=function(e,o){return{x:e.x*o,y:e.y*o}},x.div=function(e,o){return{x:e.x/o,y:e.y/o}},x.perp=function(e,o){return o=o===!0?-1:1,{x:o*-e.y,y:o*e.x}},x.neg=function(e){return{x:-e.x,y:-e.y}},x.angle=function(e,o){return Math.atan2(o.y-e.y,o.x-e.x)},x._temp=[x.create(),x.create(),x.create(),x.create(),x.create(),x.create()]}()},function(T,F,x){var e={};T.exports=e;var o=x(2),a=x(0);(function(){e.create=function(n,v){for(var r=[],f=0;f<n.length;f++){var i=n[f],s={x:i.x,y:i.y,index:f,body:v,isInternal:!1};r.push(s)}return r},e.fromPath=function(n,v){var r=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return n.replace(r,function(i,s,t){f.push({x:parseFloat(s),y:parseFloat(t)})}),e.create(f,v)},e.centre=function(n){for(var v=e.area(n,!0),r={x:0,y:0},f,i,s,t=0;t<n.length;t++)s=(t+1)%n.length,f=o.cross(n[t],n[s]),i=o.mult(o.add(n[t],n[s]),f),r=o.add(r,i);return o.div(r,6*v)},e.mean=function(n){for(var v={x:0,y:0},r=0;r<n.length;r++)v.x+=n[r].x,v.y+=n[r].y;return o.div(v,n.length)},e.area=function(n,v){for(var r=0,f=n.length-1,i=0;i<n.length;i++)r+=(n[f].x-n[i].x)*(n[f].y+n[i].y),f=i;return v?r/2:Math.abs(r)/2},e.inertia=function(n,v){for(var r=0,f=0,i=n,s,t,l=0;l<i.length;l++)t=(l+1)%i.length,s=Math.abs(o.cross(i[t],i[l])),r+=s*(o.dot(i[t],i[t])+o.dot(i[t],i[l])+o.dot(i[l],i[l])),f+=s;return v/6*(r/f)},e.translate=function(n,v,r){var f;if(r)for(f=0;f<n.length;f++)n[f].x+=v.x*r,n[f].y+=v.y*r;else for(f=0;f<n.length;f++)n[f].x+=v.x,n[f].y+=v.y;return n},e.rotate=function(n,v,r){if(v!==0){for(var f=Math.cos(v),i=Math.sin(v),s=0;s<n.length;s++){var t=n[s],l=t.x-r.x,c=t.y-r.y;t.x=r.x+(l*f-c*i),t.y=r.y+(l*i+c*f)}return n}},e.contains=function(n,v){for(var r=0;r<n.length;r++){var f=n[r],i=n[(r+1)%n.length];if((v.x-f.x)*(i.y-f.y)+(v.y-f.y)*(f.x-i.x)>0)return!1}return!0},e.scale=function(n,v,r,f){if(v===1&&r===1)return n;f=f||e.centre(n);for(var i,s,t=0;t<n.length;t++)i=n[t],s=o.sub(i,f),n[t].x=f.x+s.x*v,n[t].y=f.y+s.y*r;return n},e.chamfer=function(n,v,r,f,i){typeof v=="number"?v=[v]:v=v||[8],r=typeof r!="undefined"?r:-1,f=f||2,i=i||14;for(var s=[],t=0;t<n.length;t++){var l=n[t-1>=0?t-1:n.length-1],c=n[t],g=n[(t+1)%n.length],d=v[t<v.length?t:v.length-1];if(d===0){s.push(c);continue}var P=o.normalise({x:c.y-l.y,y:l.x-c.x}),u=o.normalise({x:g.y-c.y,y:c.x-g.x}),p=Math.sqrt(2*Math.pow(d,2)),h=o.mult(a.clone(P),d),m=o.normalise(o.mult(o.add(P,u),.5)),S=o.sub(c,o.mult(m,p)),C=r;r===-1&&(C=Math.pow(d,.32)*1.75),C=a.clamp(C,f,i),C%2==1&&(C+=1);for(var y=Math.acos(o.dot(P,u)),M=y/C,w=0;w<C;w++)s.push(o.add(o.rotate(h,M*w),S))}return s},e.clockwiseSort=function(n){var v=e.mean(n);return n.sort(function(r,f){return o.angle(v,r)-o.angle(v,f)}),n},e.isConvex=function(n){var v=0,r=n.length,f,i,s,t;if(r<3)return null;for(f=0;f<r;f++)if(i=(f+1)%r,s=(f+2)%r,t=(n[i].x-n[f].x)*(n[s].y-n[i].y),t-=(n[i].y-n[f].y)*(n[s].x-n[i].x),t<0?v|=1:t>0&&(v|=2),v===3)return!1;return v!==0?!0:null},e.hull=function(n){var v=[],r=[],f,i;for(n=n.slice(0),n.sort(function(s,t){var l=s.x-t.x;return l!==0?l:s.y-t.y}),i=0;i<n.length;i+=1){for(f=n[i];r.length>=2&&o.cross3(r[r.length-2],r[r.length-1],f)<=0;)r.pop();r.push(f)}for(i=n.length-1;i>=0;i-=1){for(f=n[i];v.length>=2&&o.cross3(v[v.length-2],v[v.length-1],f)<=0;)v.pop();v.push(f)}return v.pop(),r.pop(),v.concat(r)}})()},function(T,F,x){var e={};T.exports=e;var o=x(0);(function(){e.on=function(a,n,v){for(var r=n.split(" "),f,i=0;i<r.length;i++)f=r[i],a.events=a.events||{},a.events[f]=a.events[f]||[],a.events[f].push(v);return v},e.off=function(a,n,v){if(!n){a.events={};return}typeof n=="function"&&(v=n,n=o.keys(a.events).join(" "));for(var r=n.split(" "),f=0;f<r.length;f++){var i=a.events[r[f]],s=[];if(v&&i)for(var t=0;t<i.length;t++)i[t]!==v&&s.push(i[t]);a.events[r[f]]=s}},e.trigger=function(a,n,v){var r,f,i,s,t=a.events;if(t&&o.keys(t).length>0){v||(v={}),r=n.split(" ");for(var l=0;l<r.length;l++)if(f=r[l],i=t[f],i){s=o.clone(v,!1),s.name=f,s.source=a;for(var c=0;c<i.length;c++)i[c].apply(a,[s])}}}})()},function(T,F,x){var e={};T.exports=e;var o=x(4),a=x(0),n=x(1),v=x(6);(function(){e.create=function(r){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},r)},e.setModified=function(r,f,i,s){if(r.isModified=f,i&&r.parent&&e.setModified(r.parent,f,i,s),s)for(var t=0;t<r.composites.length;t++){var l=r.composites[t];e.setModified(l,f,i,s)}},e.add=function(r,f){var i=[].concat(f);o.trigger(r,"beforeAdd",{object:f});for(var s=0;s<i.length;s++){var t=i[s];switch(t.type){case"body":if(t.parent!==t){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(r,t);break;case"constraint":e.addConstraint(r,t);break;case"composite":e.addComposite(r,t);break;case"mouseConstraint":e.addConstraint(r,t.constraint);break}}return o.trigger(r,"afterAdd",{object:f}),r},e.remove=function(r,f,i){var s=[].concat(f);o.trigger(r,"beforeRemove",{object:f});for(var t=0;t<s.length;t++){var l=s[t];switch(l.type){case"body":e.removeBody(r,l,i);break;case"constraint":e.removeConstraint(r,l,i);break;case"composite":e.removeComposite(r,l,i);break;case"mouseConstraint":e.removeConstraint(r,l.constraint);break}}return o.trigger(r,"afterRemove",{object:f}),r},e.addComposite=function(r,f){return r.composites.push(f),f.parent=r,e.setModified(r,!0,!0,!1),r},e.removeComposite=function(r,f,i){var s=a.indexOf(r.composites,f);if(s!==-1&&(e.removeCompositeAt(r,s),e.setModified(r,!0,!0,!1)),i)for(var t=0;t<r.composites.length;t++)e.removeComposite(r.composites[t],f,!0);return r},e.removeCompositeAt=function(r,f){return r.composites.splice(f,1),e.setModified(r,!0,!0,!1),r},e.addBody=function(r,f){return r.bodies.push(f),e.setModified(r,!0,!0,!1),r},e.removeBody=function(r,f,i){var s=a.indexOf(r.bodies,f);if(s!==-1&&(e.removeBodyAt(r,s),e.setModified(r,!0,!0,!1)),i)for(var t=0;t<r.composites.length;t++)e.removeBody(r.composites[t],f,!0);return r},e.removeBodyAt=function(r,f){return r.bodies.splice(f,1),e.setModified(r,!0,!0,!1),r},e.addConstraint=function(r,f){return r.constraints.push(f),e.setModified(r,!0,!0,!1),r},e.removeConstraint=function(r,f,i){var s=a.indexOf(r.constraints,f);if(s!==-1&&e.removeConstraintAt(r,s),i)for(var t=0;t<r.composites.length;t++)e.removeConstraint(r.composites[t],f,!0);return r},e.removeConstraintAt=function(r,f){return r.constraints.splice(f,1),e.setModified(r,!0,!0,!1),r},e.clear=function(r,f,i){if(i)for(var s=0;s<r.composites.length;s++)e.clear(r.composites[s],f,!0);return f?r.bodies=r.bodies.filter(function(t){return t.isStatic}):r.bodies.length=0,r.constraints.length=0,r.composites.length=0,e.setModified(r,!0,!0,!1),r},e.allBodies=function(r){for(var f=[].concat(r.bodies),i=0;i<r.composites.length;i++)f=f.concat(e.allBodies(r.composites[i]));return f},e.allConstraints=function(r){for(var f=[].concat(r.constraints),i=0;i<r.composites.length;i++)f=f.concat(e.allConstraints(r.composites[i]));return f},e.allComposites=function(r){for(var f=[].concat(r.composites),i=0;i<r.composites.length;i++)f=f.concat(e.allComposites(r.composites[i]));return f},e.get=function(r,f,i){var s,t;switch(i){case"body":s=e.allBodies(r);break;case"constraint":s=e.allConstraints(r);break;case"composite":s=e.allComposites(r).concat(r);break}return s?(t=s.filter(function(l){return l.id.toString()===f.toString()}),t.length===0?null:t[0]):null},e.move=function(r,f,i){return e.remove(r,f),e.add(i,f),r},e.rebase=function(r){for(var f=e.allBodies(r).concat(e.allConstraints(r)).concat(e.allComposites(r)),i=0;i<f.length;i++)f[i].id=a.nextId();return e.setModified(r,!0,!0,!1),r},e.translate=function(r,f,i){for(var s=i?e.allBodies(r):r.bodies,t=0;t<s.length;t++)v.translate(s[t],f);return e.setModified(r,!0,!0,!1),r},e.rotate=function(r,f,i,s){for(var t=Math.cos(f),l=Math.sin(f),c=s?e.allBodies(r):r.bodies,g=0;g<c.length;g++){var d=c[g],P=d.position.x-i.x,u=d.position.y-i.y;v.setPosition(d,{x:i.x+(P*t-u*l),y:i.y+(P*l+u*t)}),v.rotate(d,f)}return e.setModified(r,!0,!0,!1),r},e.scale=function(r,f,i,s,t){for(var l=t?e.allBodies(r):r.bodies,c=0;c<l.length;c++){var g=l[c],d=g.position.x-s.x,P=g.position.y-s.y;v.setPosition(g,{x:s.x+d*f,y:s.y+P*i}),v.scale(g,f,i)}return e.setModified(r,!0,!0,!1),r},e.bounds=function(r){for(var f=e.allBodies(r),i=[],s=0;s<f.length;s+=1){var t=f[s];i.push(t.bounds.min,t.bounds.max)}return n.create(i)}})()},function(T,F,x){var e={};T.exports=e;var o=x(3),a=x(2),n=x(7),v=x(16),r=x(0),f=x(1),i=x(10);(function(){e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e.create=function(t){var l={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:o.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},c=r.extend(l,t);return s(c,t),c},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var s=function(t,l){l=l||{},e.set(t,{bounds:t.bounds||f.create(t.vertices),positionPrev:t.positionPrev||a.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),o.rotate(t.vertices,t.angle,t.position),i.rotate(t.axes,t.angle),f.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:l.axes||t.axes,area:l.area||t.area,mass:l.mass||t.mass,inertia:l.inertia||t.inertia});var c=t.isStatic?"#14151f":r.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),g=t.isStatic?"#555":"#ccc",d=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||c,t.render.strokeStyle=t.render.strokeStyle||g,t.render.lineWidth=t.render.lineWidth||d,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,l,c){var g;typeof l=="string"&&(g=l,l={},l[g]=c);for(g in l)if(!!Object.prototype.hasOwnProperty.call(l,g))switch(c=l[g],g){case"isStatic":e.setStatic(t,c);break;case"isSleeping":n.set(t,c);break;case"mass":e.setMass(t,c);break;case"density":e.setDensity(t,c);break;case"inertia":e.setInertia(t,c);break;case"vertices":e.setVertices(t,c);break;case"position":e.setPosition(t,c);break;case"angle":e.setAngle(t,c);break;case"velocity":e.setVelocity(t,c);break;case"angularVelocity":e.setAngularVelocity(t,c);break;case"parts":e.setParts(t,c);break;case"centre":e.setCentre(t,c);break;default:t[g]=c}},e.setStatic=function(t,l){for(var c=0;c<t.parts.length;c++){var g=t.parts[c];g.isStatic=l,l?(g._original={restitution:g.restitution,friction:g.friction,mass:g.mass,inertia:g.inertia,density:g.density,inverseMass:g.inverseMass,inverseInertia:g.inverseInertia},g.restitution=0,g.friction=1,g.mass=g.inertia=g.density=Infinity,g.inverseMass=g.inverseInertia=0,g.positionPrev.x=g.position.x,g.positionPrev.y=g.position.y,g.anglePrev=g.angle,g.angularVelocity=0,g.speed=0,g.angularSpeed=0,g.motion=0):g._original&&(g.restitution=g._original.restitution,g.friction=g._original.friction,g.mass=g._original.mass,g.inertia=g._original.inertia,g.density=g._original.density,g.inverseMass=g._original.inverseMass,g.inverseInertia=g._original.inverseInertia,g._original=null)}},e.setMass=function(t,l){var c=t.inertia/(t.mass/6);t.inertia=c*(l/6),t.inverseInertia=1/t.inertia,t.mass=l,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,l){e.setMass(t,l*t.area),t.density=l},e.setInertia=function(t,l){t.inertia=l,t.inverseInertia=1/t.inertia},e.setVertices=function(t,l){l[0].body===t?t.vertices=l:t.vertices=o.create(l,t),t.axes=i.fromVertices(t.vertices),t.area=o.area(t.vertices),e.setMass(t,t.density*t.area);var c=o.centre(t.vertices);o.translate(t.vertices,c,-1),e.setInertia(t,e._inertiaScale*o.inertia(t.vertices,t.mass)),o.translate(t.vertices,t.position),f.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,l,c){var g;for(l=l.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,g=0;g<l.length;g++){var d=l[g];d!==t&&(d.parent=t,t.parts.push(d))}if(t.parts.length!==1){if(c=typeof c!="undefined"?c:!0,c){var P=[];for(g=0;g<l.length;g++)P=P.concat(l[g].vertices);o.clockwiseSort(P);var u=o.hull(P),p=o.centre(u);e.setVertices(t,u),o.translate(t.vertices,p)}var h=e._totalProperties(t);t.area=h.area,t.parent=t,t.position.x=h.centre.x,t.position.y=h.centre.y,t.positionPrev.x=h.centre.x,t.positionPrev.y=h.centre.y,e.setMass(t,h.mass),e.setInertia(t,h.inertia),e.setPosition(t,h.centre)}},e.setCentre=function(t,l,c){c?(t.positionPrev.x+=l.x,t.positionPrev.y+=l.y,t.position.x+=l.x,t.position.y+=l.y):(t.positionPrev.x=l.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=l.y-(t.position.y-t.positionPrev.y),t.position.x=l.x,t.position.y=l.y)},e.setPosition=function(t,l){var c=a.sub(l,t.position);t.positionPrev.x+=c.x,t.positionPrev.y+=c.y;for(var g=0;g<t.parts.length;g++){var d=t.parts[g];d.position.x+=c.x,d.position.y+=c.y,o.translate(d.vertices,c),f.update(d.bounds,d.vertices,t.velocity)}},e.setAngle=function(t,l){var c=l-t.angle;t.anglePrev+=c;for(var g=0;g<t.parts.length;g++){var d=t.parts[g];d.angle+=c,o.rotate(d.vertices,c,t.position),i.rotate(d.axes,c),f.update(d.bounds,d.vertices,t.velocity),g>0&&a.rotateAbout(d.position,c,t.position,d.position)}},e.setVelocity=function(t,l){t.positionPrev.x=t.position.x-l.x,t.positionPrev.y=t.position.y-l.y,t.velocity.x=l.x,t.velocity.y=l.y,t.speed=a.magnitude(t.velocity)},e.setAngularVelocity=function(t,l){t.anglePrev=t.angle-l,t.angularVelocity=l,t.angularSpeed=Math.abs(t.angularVelocity)},e.translate=function(t,l){e.setPosition(t,a.add(t.position,l))},e.rotate=function(t,l,c){if(!c)e.setAngle(t,t.angle+l);else{var g=Math.cos(l),d=Math.sin(l),P=t.position.x-c.x,u=t.position.y-c.y;e.setPosition(t,{x:c.x+(P*g-u*d),y:c.y+(P*d+u*g)}),e.setAngle(t,t.angle+l)}},e.scale=function(t,l,c,g){var d=0,P=0;g=g||t.position;for(var u=0;u<t.parts.length;u++){var p=t.parts[u];o.scale(p.vertices,l,c,g),p.axes=i.fromVertices(p.vertices),p.area=o.area(p.vertices),e.setMass(p,t.density*p.area),o.translate(p.vertices,{x:-p.position.x,y:-p.position.y}),e.setInertia(p,e._inertiaScale*o.inertia(p.vertices,p.mass)),o.translate(p.vertices,{x:p.position.x,y:p.position.y}),u>0&&(d+=p.area,P+=p.inertia),p.position.x=g.x+(p.position.x-g.x)*l,p.position.y=g.y+(p.position.y-g.y)*c,f.update(p.bounds,p.vertices,t.velocity)}t.parts.length>1&&(t.area=d,t.isStatic||(e.setMass(t,t.density*d),e.setInertia(t,P))),t.circleRadius&&(l===c?t.circleRadius*=l:t.circleRadius=null)},e.update=function(t,l,c,g){var d=Math.pow(l*c*t.timeScale,2),P=1-t.frictionAir*c*t.timeScale,u=t.position.x-t.positionPrev.x,p=t.position.y-t.positionPrev.y;t.velocity.x=u*P*g+t.force.x/t.mass*d,t.velocity.y=p*P*g+t.force.y/t.mass*d,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.angularVelocity=(t.angle-t.anglePrev)*P*g+t.torque/t.inertia*d,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=a.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity);for(var h=0;h<t.parts.length;h++){var m=t.parts[h];o.translate(m.vertices,t.velocity),h>0&&(m.position.x+=t.velocity.x,m.position.y+=t.velocity.y),t.angularVelocity!==0&&(o.rotate(m.vertices,t.angularVelocity,t.position),i.rotate(m.axes,t.angularVelocity),h>0&&a.rotateAbout(m.position,t.angularVelocity,t.position,m.position)),f.update(m.bounds,m.vertices,t.velocity)}},e.applyForce=function(t,l,c){t.force.x+=c.x,t.force.y+=c.y;var g={x:l.x-t.position.x,y:l.y-t.position.y};t.torque+=g.x*c.y-g.y*c.x},e._totalProperties=function(t){for(var l={mass:0,area:0,inertia:0,centre:{x:0,y:0}},c=t.parts.length===1?0:1;c<t.parts.length;c++){var g=t.parts[c],d=g.mass!==Infinity?g.mass:1;l.mass+=d,l.area+=g.area,l.inertia+=g.inertia,l.centre=a.add(l.centre,a.mult(g.position,d))}return l.centre=a.div(l.centre,l.mass),l}})()},function(T,F,x){var e={};T.exports=e;var o=x(4);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(a,n){for(var v=n*n*n,r=0;r<a.length;r++){var f=a[r],i=f.speed*f.speed+f.angularSpeed*f.angularSpeed;if(f.force.x!==0||f.force.y!==0){e.set(f,!1);continue}var s=Math.min(f.motion,i),t=Math.max(f.motion,i);f.motion=e._minBias*s+(1-e._minBias)*t,f.sleepThreshold>0&&f.motion<e._motionSleepThreshold*v?(f.sleepCounter+=1,f.sleepCounter>=f.sleepThreshold&&e.set(f,!0)):f.sleepCounter>0&&(f.sleepCounter-=1)}},e.afterCollisions=function(a,n){for(var v=n*n*n,r=0;r<a.length;r++){var f=a[r];if(!!f.isActive){var i=f.collision,s=i.bodyA.parent,t=i.bodyB.parent;if(!(s.isSleeping&&t.isSleeping||s.isStatic||t.isStatic)&&(s.isSleeping||t.isSleeping)){var l=s.isSleeping&&!s.isStatic?s:t,c=l===s?t:s;!l.isStatic&&c.motion>e._motionWakeThreshold*v&&e.set(l,!1)}}}},e.set=function(a,n){var v=a.isSleeping;n?(a.isSleeping=!0,a.sleepCounter=a.sleepThreshold,a.positionImpulse.x=0,a.positionImpulse.y=0,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.anglePrev=a.angle,a.speed=0,a.angularSpeed=0,a.motion=0,v||o.trigger(a,"sleepStart")):(a.isSleeping=!1,a.sleepCounter=0,v&&o.trigger(a,"sleepEnd"))}})()},function(T,F,x){var e={};T.exports=e;var o=x(3),a=x(2),n=x(7),v=x(1),r=x(10),f=x(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(i){var s=i;s.bodyA&&!s.pointA&&(s.pointA={x:0,y:0}),s.bodyB&&!s.pointB&&(s.pointB={x:0,y:0});var t=s.bodyA?a.add(s.bodyA.position,s.pointA):s.pointA,l=s.bodyB?a.add(s.bodyB.position,s.pointB):s.pointB,c=a.magnitude(a.sub(t,l));s.length=typeof s.length!="undefined"?s.length:c,s.id=s.id||f.nextId(),s.label=s.label||"Constraint",s.type="constraint",s.stiffness=s.stiffness||(s.length>0?1:.7),s.damping=s.damping||0,s.angularStiffness=s.angularStiffness||0,s.angleA=s.bodyA?s.bodyA.angle:s.angleA,s.angleB=s.bodyB?s.bodyB.angle:s.angleB,s.plugin={};var g={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return s.length===0&&s.stiffness>.1?(g.type="pin",g.anchors=!1):s.stiffness<.9&&(g.type="spring"),s.render=f.extend(g,s.render),s},e.preSolveAll=function(i){for(var s=0;s<i.length;s+=1){var t=i[s],l=t.constraintImpulse;t.isStatic||l.x===0&&l.y===0&&l.angle===0||(t.position.x+=l.x,t.position.y+=l.y,t.angle+=l.angle)}},e.solveAll=function(i,s){for(var t=0;t<i.length;t+=1){var l=i[t],c=!l.bodyA||l.bodyA&&l.bodyA.isStatic,g=!l.bodyB||l.bodyB&&l.bodyB.isStatic;(c||g)&&e.solve(i[t],s)}for(t=0;t<i.length;t+=1)l=i[t],c=!l.bodyA||l.bodyA&&l.bodyA.isStatic,g=!l.bodyB||l.bodyB&&l.bodyB.isStatic,!c&&!g&&e.solve(i[t],s)},e.solve=function(i,s){var t=i.bodyA,l=i.bodyB,c=i.pointA,g=i.pointB;if(!(!t&&!l)){t&&!t.isStatic&&(a.rotate(c,t.angle-i.angleA,c),i.angleA=t.angle),l&&!l.isStatic&&(a.rotate(g,l.angle-i.angleB,g),i.angleB=l.angle);var d=c,P=g;if(t&&(d=a.add(t.position,c)),l&&(P=a.add(l.position,g)),!(!d||!P)){var u=a.sub(d,P),p=a.magnitude(u);p<e._minLength&&(p=e._minLength);var h=(p-i.length)/p,m=i.stiffness<1?i.stiffness*s:i.stiffness,S=a.mult(u,h*m),C=(t?t.inverseMass:0)+(l?l.inverseMass:0),y=(t?t.inverseInertia:0)+(l?l.inverseInertia:0),M=C+y,w,I,A,E,B;if(i.damping){var R=a.create();A=a.div(u,p),B=a.sub(l&&a.sub(l.position,l.positionPrev)||R,t&&a.sub(t.position,t.positionPrev)||R),E=a.dot(A,B)}t&&!t.isStatic&&(I=t.inverseMass/C,t.constraintImpulse.x-=S.x*I,t.constraintImpulse.y-=S.y*I,t.position.x-=S.x*I,t.position.y-=S.y*I,i.damping&&(t.positionPrev.x-=i.damping*A.x*E*I,t.positionPrev.y-=i.damping*A.y*E*I),w=a.cross(c,S)/M*e._torqueDampen*t.inverseInertia*(1-i.angularStiffness),t.constraintImpulse.angle-=w,t.angle-=w),l&&!l.isStatic&&(I=l.inverseMass/C,l.constraintImpulse.x+=S.x*I,l.constraintImpulse.y+=S.y*I,l.position.x+=S.x*I,l.position.y+=S.y*I,i.damping&&(l.positionPrev.x+=i.damping*A.x*E*I,l.positionPrev.y+=i.damping*A.y*E*I),w=a.cross(g,S)/M*e._torqueDampen*l.inverseInertia*(1-i.angularStiffness),l.constraintImpulse.angle+=w,l.angle+=w)}}},e.postSolveAll=function(i){for(var s=0;s<i.length;s++){var t=i[s],l=t.constraintImpulse;if(!(t.isStatic||l.x===0&&l.y===0&&l.angle===0)){n.set(t,!1);for(var c=0;c<t.parts.length;c++){var g=t.parts[c];o.translate(g.vertices,l),c>0&&(g.position.x+=l.x,g.position.y+=l.y),l.angle!==0&&(o.rotate(g.vertices,l.angle,t.position),r.rotate(g.axes,l.angle),c>0&&a.rotateAbout(g.position,l.angle,t.position,g.position)),v.update(g.bounds,g.vertices,t.velocity)}l.angle*=e._warming,l.x*=e._warming,l.y*=e._warming}}},e.pointAWorld=function(i){return{x:(i.bodyA?i.bodyA.position.x:0)+i.pointA.x,y:(i.bodyA?i.bodyA.position.y:0)+i.pointA.y}},e.pointBWorld=function(i){return{x:(i.bodyB?i.bodyB.position.x:0)+i.pointB.x,y:(i.bodyB?i.bodyB.position.y:0)+i.pointB.y}}})()},function(T,F,x){var e={};T.exports=e;var o=x(17);(function(){e.create=function(a,n){var v=a.bodyA,r=a.bodyB,f=a.parentA,i=a.parentB,s={id:e.id(v,r),bodyA:v,bodyB:r,contacts:{},activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:v.isSensor||r.isSensor,timeCreated:n,timeUpdated:n,inverseMass:f.inverseMass+i.inverseMass,friction:Math.min(f.friction,i.friction),frictionStatic:Math.max(f.frictionStatic,i.frictionStatic),restitution:Math.max(f.restitution,i.restitution),slop:Math.max(f.slop,i.slop)};return e.update(s,a,n),s},e.update=function(a,n,v){var r=a.contacts,f=n.supports,i=a.activeContacts,s=n.parentA,t=n.parentB;if(a.collision=n,a.inverseMass=s.inverseMass+t.inverseMass,a.friction=Math.min(s.friction,t.friction),a.frictionStatic=Math.max(s.frictionStatic,t.frictionStatic),a.restitution=Math.max(s.restitution,t.restitution),a.slop=Math.max(s.slop,t.slop),i.length=0,n.collided){for(var l=0;l<f.length;l++){var c=f[l],g=o.id(c),d=r[g];d?i.push(d):i.push(r[g]=o.create(c))}a.separation=n.depth,e.setActive(a,!0,v)}else a.isActive===!0&&e.setActive(a,!1,v)},e.setActive=function(a,n,v){n?(a.isActive=!0,a.timeUpdated=v):(a.isActive=!1,a.activeContacts.length=0)},e.id=function(a,n){return a.id<n.id?"A"+a.id+"B"+n.id:"A"+n.id+"B"+a.id}})()},function(T,F,x){var e={};T.exports=e;var o=x(2),a=x(0);(function(){e.fromVertices=function(n){for(var v={},r=0;r<n.length;r++){var f=(r+1)%n.length,i=o.normalise({x:n[f].y-n[r].y,y:n[r].x-n[f].x}),s=i.y===0?Infinity:i.x/i.y;s=s.toFixed(3).toString(),v[s]=i}return a.values(v)},e.rotate=function(n,v){if(v!==0)for(var r=Math.cos(v),f=Math.sin(v),i=0;i<n.length;i++){var s=n[i],t;t=s.x*r-s.y*f,s.y=s.x*f+s.y*r,s.x=t}}})()},function(T,F,x){var e={};T.exports=e;var o=x(3),a=x(0),n=x(6),v=x(1),r=x(2);(function(){e.rectangle=function(f,i,s,t,l){l=l||{};var c={label:"Rectangle Body",position:{x:f,y:i},vertices:o.fromPath("L 0 0 L "+s+" 0 L "+s+" "+t+" L 0 "+t)};if(l.chamfer){var g=l.chamfer;c.vertices=o.chamfer(c.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete l.chamfer}return n.create(a.extend({},c,l))},e.trapezoid=function(f,i,s,t,l,c){c=c||{},l*=.5;var g=(1-l*2)*s,d=s*l,P=d+g,u=P+d,p;l<.5?p="L 0 0 L "+d+" "+-t+" L "+P+" "+-t+" L "+u+" 0":p="L 0 0 L "+P+" "+-t+" L "+u+" 0";var h={label:"Trapezoid Body",position:{x:f,y:i},vertices:o.fromPath(p)};if(c.chamfer){var m=c.chamfer;h.vertices=o.chamfer(h.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete c.chamfer}return n.create(a.extend({},h,c))},e.circle=function(f,i,s,t,l){t=t||{};var c={label:"Circle Body",circleRadius:s};l=l||25;var g=Math.ceil(Math.max(10,Math.min(l,s)));return g%2==1&&(g+=1),e.polygon(f,i,g,s,a.extend({},c,t))},e.polygon=function(f,i,s,t,l){if(l=l||{},s<3)return e.circle(f,i,t,l);for(var c=2*Math.PI/s,g="",d=c*.5,P=0;P<s;P+=1){var u=d+P*c,p=Math.cos(u)*t,h=Math.sin(u)*t;g+="L "+p.toFixed(3)+" "+h.toFixed(3)+" "}var m={label:"Polygon Body",position:{x:f,y:i},vertices:o.fromPath(g)};if(l.chamfer){var S=l.chamfer;m.vertices=o.chamfer(m.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete l.chamfer}return n.create(a.extend({},m,l))},e.fromVertices=function(f,i,s,t,l,c,g,d){var P=a.getDecomp(),u,p,h,m,S,C,y,M,w,I,A;for(u=Boolean(P&&P.quickDecomp),t=t||{},h=[],l=typeof l!="undefined"?l:!1,c=typeof c!="undefined"?c:.01,g=typeof g!="undefined"?g:10,d=typeof d!="undefined"?d:.01,a.isArray(s[0])||(s=[s]),I=0;I<s.length;I+=1)if(C=s[I],m=o.isConvex(C),S=!m,S&&!u&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),m||!u)m?C=o.clockwiseSort(C):C=o.hull(C),h.push({position:{x:f,y:i},vertices:C});else{var E=C.map(function(H){return[H.x,H.y]});P.makeCCW(E),c!==!1&&P.removeCollinearPoints(E,c),d!==!1&&P.removeDuplicatePoints&&P.removeDuplicatePoints(E,d);var B=P.quickDecomp(E);for(y=0;y<B.length;y++){var R=B[y],L=R.map(function(H){return{x:H[0],y:H[1]}});g>0&&o.area(L)<g||h.push({position:o.centre(L),vertices:L})}}for(y=0;y<h.length;y++)h[y]=n.create(a.extend(h[y],t));if(l){var V=5;for(y=0;y<h.length;y++){var O=h[y];for(M=y+1;M<h.length;M++){var D=h[M];if(v.overlaps(O.bounds,D.bounds)){var W=O.vertices,k=D.vertices;for(w=0;w<O.vertices.length;w++)for(A=0;A<D.vertices.length;A++){var U=r.magnitudeSquared(r.sub(W[(w+1)%W.length],k[A])),z=r.magnitudeSquared(r.sub(W[w],k[(A+1)%k.length]));U<V&&z<V&&(W[w].isInternal=!0,k[A].isInternal=!0)}}}}}return h.length>1?(p=n.create(a.extend({parts:h.slice(0)},t)),n.setPosition(p,{x:f,y:i}),p):h[0]}})()},function(T,F,x){var e={};T.exports=e;var o=x(0);(function(){e.create=function(a){var n={};return a||o.log("Mouse.create: element was undefined, defaulting to document.body","warn"),n.element=a||document.body,n.absolute={x:0,y:0},n.position={x:0,y:0},n.mousedownPosition={x:0,y:0},n.mouseupPosition={x:0,y:0},n.offset={x:0,y:0},n.scale={x:1,y:1},n.wheelDelta=0,n.button=-1,n.pixelRatio=parseInt(n.element.getAttribute("data-pixel-ratio"),10)||1,n.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},n.mousemove=function(v){var r=e._getRelativeMousePosition(v,n.element,n.pixelRatio),f=v.changedTouches;f&&(n.button=0,v.preventDefault()),n.absolute.x=r.x,n.absolute.y=r.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.sourceEvents.mousemove=v},n.mousedown=function(v){var r=e._getRelativeMousePosition(v,n.element,n.pixelRatio),f=v.changedTouches;f?(n.button=0,v.preventDefault()):n.button=v.button,n.absolute.x=r.x,n.absolute.y=r.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mousedownPosition.x=n.position.x,n.mousedownPosition.y=n.position.y,n.sourceEvents.mousedown=v},n.mouseup=function(v){var r=e._getRelativeMousePosition(v,n.element,n.pixelRatio),f=v.changedTouches;f&&v.preventDefault(),n.button=-1,n.absolute.x=r.x,n.absolute.y=r.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mouseupPosition.x=n.position.x,n.mouseupPosition.y=n.position.y,n.sourceEvents.mouseup=v},n.mousewheel=function(v){n.wheelDelta=Math.max(-1,Math.min(1,v.wheelDelta||-v.detail)),v.preventDefault()},e.setElement(n,n.element),n},e.setElement=function(a,n){a.element=n,n.addEventListener("mousemove",a.mousemove),n.addEventListener("mousedown",a.mousedown),n.addEventListener("mouseup",a.mouseup),n.addEventListener("mousewheel",a.mousewheel),n.addEventListener("DOMMouseScroll",a.mousewheel),n.addEventListener("touchmove",a.mousemove),n.addEventListener("touchstart",a.mousedown),n.addEventListener("touchend",a.mouseup)},e.clearSourceEvents=function(a){a.sourceEvents.mousemove=null,a.sourceEvents.mousedown=null,a.sourceEvents.mouseup=null,a.sourceEvents.mousewheel=null,a.wheelDelta=0},e.setOffset=function(a,n){a.offset.x=n.x,a.offset.y=n.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},e.setScale=function(a,n){a.scale.x=n.x,a.scale.y=n.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},e._getRelativeMousePosition=function(a,n,v){var r=n.getBoundingClientRect(),f=document.documentElement||document.body.parentNode||document.body,i=window.pageXOffset!==void 0?window.pageXOffset:f.scrollLeft,s=window.pageYOffset!==void 0?window.pageYOffset:f.scrollTop,t=a.changedTouches,l,c;return t?(l=t[0].pageX-r.left-i,c=t[0].pageY-r.top-s):(l=a.pageX-r.left-i,c=a.pageY-r.top-s),{x:l/(n.clientWidth/(n.width||n.clientWidth)*v),y:c/(n.clientHeight/(n.height||n.clientHeight)*v)}}})()},function(T,F,x){var e={};T.exports=e;var o=x(14),a=x(9),n=x(1);(function(){e.collisions=function(v,r){for(var f=[],i=r.pairs.table,s=0;s<v.length;s++){var t=v[s][0],l=v[s][1];if(!((t.isStatic||t.isSleeping)&&(l.isStatic||l.isSleeping))&&!!e.canCollide(t.collisionFilter,l.collisionFilter)&&n.overlaps(t.bounds,l.bounds))for(var c=t.parts.length>1?1:0;c<t.parts.length;c++)for(var g=t.parts[c],d=l.parts.length>1?1:0;d<l.parts.length;d++){var P=l.parts[d];if(g===t&&P===l||n.overlaps(g.bounds,P.bounds)){var u=a.id(g,P),p=i[u],h;p&&p.isActive?h=p.collision:h=null;var m=o.collides(g,P,h);m.collided&&f.push(m)}}}return f},e.canCollide=function(v,r){return v.group===r.group&&v.group!==0?v.group>0:(v.mask&r.category)!=0&&(r.mask&v.category)!=0}})()},function(T,F,x){var e={};T.exports=e;var o=x(3),a=x(2);(function(){e.collides=function(n,v,r){var f,i,s,t,l=!1;if(r){var c=n.parent,g=v.parent,d=c.speed*c.speed+c.angularSpeed*c.angularSpeed+g.speed*g.speed+g.angularSpeed*g.angularSpeed;l=r&&r.collided&&d<.2,t=r}else t={collided:!1,bodyA:n,bodyB:v};if(r&&l){var P=t.axisBody,u=P===n?v:n,p=[P.axes[r.axisNumber]];if(s=e._overlapAxes(P.vertices,u.vertices,p),t.reused=!0,s.overlap<=0)return t.collided=!1,t}else{if(f=e._overlapAxes(n.vertices,v.vertices,n.axes),f.overlap<=0||(i=e._overlapAxes(v.vertices,n.vertices,v.axes),i.overlap<=0))return t.collided=!1,t;f.overlap<i.overlap?(s=f,t.axisBody=n):(s=i,t.axisBody=v),t.axisNumber=s.axisNumber}t.bodyA=n.id<v.id?n:v,t.bodyB=n.id<v.id?v:n,t.collided=!0,t.depth=s.overlap,t.parentA=t.bodyA.parent,t.parentB=t.bodyB.parent,n=t.bodyA,v=t.bodyB,a.dot(s.axis,a.sub(v.position,n.position))<0?t.normal={x:s.axis.x,y:s.axis.y}:t.normal={x:-s.axis.x,y:-s.axis.y},t.tangent=a.perp(t.normal),t.penetration=t.penetration||{},t.penetration.x=t.normal.x*t.depth,t.penetration.y=t.normal.y*t.depth;var h=e._findSupports(n,v,t.normal),m=[];if(o.contains(n.vertices,h[0])&&m.push(h[0]),o.contains(n.vertices,h[1])&&m.push(h[1]),m.length<2){var S=e._findSupports(v,n,a.neg(t.normal));o.contains(v.vertices,S[0])&&m.push(S[0]),m.length<2&&o.contains(v.vertices,S[1])&&m.push(S[1])}return m.length<1&&(m=[h[0]]),t.supports=m,t},e._overlapAxes=function(n,v,r){for(var f=a._temp[0],i=a._temp[1],s={overlap:Number.MAX_VALUE},t,l,c=0;c<r.length;c++){if(l=r[c],e._projectToAxis(f,n,l),e._projectToAxis(i,v,l),t=Math.min(f.max-i.min,i.max-f.min),t<=0)return s.overlap=t,s;t<s.overlap&&(s.overlap=t,s.axis=l,s.axisNumber=c)}return s},e._projectToAxis=function(n,v,r){for(var f=a.dot(v[0],r),i=f,s=1;s<v.length;s+=1){var t=a.dot(v[s],r);t>i?i=t:t<f&&(f=t)}n.min=f,n.max=i},e._findSupports=function(n,v,r){for(var f=Number.MAX_VALUE,i=a._temp[0],s=v.vertices,t=n.position,l,c,g,d,P=0;P<s.length;P++)c=s[P],i.x=c.x-t.x,i.y=c.y-t.y,l=-a.dot(r,i),l<f&&(f=l,g=c);var u=g.index-1>=0?g.index-1:s.length-1;c=s[u],i.x=c.x-t.x,i.y=c.y-t.y,f=-a.dot(r,i),d=c;var p=(g.index+1)%s.length;return c=s[p],i.x=c.x-t.x,i.y=c.y-t.y,l=-a.dot(r,i),l<f&&(d=c),[g,d]}})()},function(T,F,x){var e={};T.exports=e;var o=x(0);(function(){e._registry={},e.register=function(a){if(e.isPlugin(a)||o.warn("Plugin.register:",e.toString(a),"does not implement all required fields."),a.name in e._registry){var n=e._registry[a.name],v=e.versionParse(a.version).number,r=e.versionParse(n.version).number;v>r?(o.warn("Plugin.register:",e.toString(n),"was upgraded to",e.toString(a)),e._registry[a.name]=a):v<r?o.warn("Plugin.register:",e.toString(n),"can not be downgraded to",e.toString(a)):a!==n&&o.warn("Plugin.register:",e.toString(a),"is already registered to different plugin object")}else e._registry[a.name]=a;return a},e.resolve=function(a){return e._registry[e.dependencyParse(a).name]},e.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},e.isPlugin=function(a){return a&&a.name&&a.version&&a.install},e.isUsed=function(a,n){return a.used.indexOf(n)>-1},e.isFor=function(a,n){var v=a.for&&e.dependencyParse(a.for);return!a.for||n.name===v.name&&e.versionSatisfies(n.version,v.range)},e.use=function(a,n){if(a.uses=(a.uses||[]).concat(n||[]),a.uses.length===0){o.warn("Plugin.use:",e.toString(a),"does not specify any dependencies to install.");return}for(var v=e.dependencies(a),r=o.topologicalSort(v),f=[],i=0;i<r.length;i+=1)if(r[i]!==a.name){var s=e.resolve(r[i]);if(!s){f.push("\u274C "+r[i]);continue}e.isUsed(a,s.name)||(e.isFor(s,a)||(o.warn("Plugin.use:",e.toString(s),"is for",s.for,"but installed on",e.toString(a)+"."),s._warned=!0),s.install?s.install(a):(o.warn("Plugin.use:",e.toString(s),"does not specify an install function."),s._warned=!0),s._warned?(f.push("\u{1F536} "+e.toString(s)),delete s._warned):f.push("\u2705 "+e.toString(s)),a.used.push(s.name))}f.length>0&&o.info(f.join("  "))},e.dependencies=function(a,n){var v=e.dependencyParse(a),r=v.name;if(n=n||{},!(r in n)){a=e.resolve(a)||a,n[r]=o.map(a.uses||[],function(i){e.isPlugin(i)&&e.register(i);var s=e.dependencyParse(i),t=e.resolve(i);return t&&!e.versionSatisfies(t.version,s.range)?(o.warn("Plugin.dependencies:",e.toString(t),"does not satisfy",e.toString(s),"used by",e.toString(v)+"."),t._warned=!0,a._warned=!0):t||(o.warn("Plugin.dependencies:",e.toString(i),"used by",e.toString(v),"could not be resolved."),a._warned=!0),s.name});for(var f=0;f<n[r].length;f+=1)e.dependencies(n[r][f],n);return n}},e.dependencyParse=function(a){if(o.isString(a)){var n=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;return n.test(a)||o.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},e.versionParse=function(a){var n=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-]+)?$/;n.test(a)||o.warn("Plugin.versionParse:",a,"is not a valid version or range.");var v=n.exec(a),r=Number(v[4]),f=Number(v[5]),i=Number(v[6]);return{isRange:Boolean(v[1]||v[2]),version:v[3],range:a,operator:v[1]||v[2]||"",major:r,minor:f,patch:i,parts:[r,f,i],prerelease:v[7],number:r*1e8+f*1e4+i}},e.versionSatisfies=function(a,n){n=n||"*";var v=e.versionParse(n),r=e.versionParse(a);if(v.isRange){if(v.operator==="*"||a==="*")return!0;if(v.operator===">")return r.number>v.number;if(v.operator===">=")return r.number>=v.number;if(v.operator==="~")return r.major===v.major&&r.minor===v.minor&&r.patch>=v.patch;if(v.operator==="^")return v.major>0?r.major===v.major&&r.number>=v.number:v.minor>0?r.minor===v.minor&&r.patch>=v.patch:r.patch===v.patch}return a===n||a==="*"}})()},function(T,F,x){var e={};T.exports=e;var o=x(0),a=x(5),n=x(1),v=x(4),r=x(2),f=x(12);(function(){var i,s;typeof window!="undefined"&&(i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(u){window.setTimeout(function(){u(o.now())},1e3/60)},s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(u){var p={controller:e,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!u.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},h=o.extend(p,u);return h.canvas&&(h.canvas.width=h.options.width||h.canvas.width,h.canvas.height=h.options.height||h.canvas.height),h.mouse=u.mouse,h.engine=u.engine,h.canvas=h.canvas||c(h.options.width,h.options.height),h.context=h.canvas.getContext("2d"),h.textures={},h.bounds=h.bounds||{min:{x:0,y:0},max:{x:h.canvas.width,y:h.canvas.height}},h.options.pixelRatio!==1&&e.setPixelRatio(h,h.options.pixelRatio),o.isElement(h.element)?h.element.appendChild(h.canvas):h.canvas.parentNode||o.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),h},e.run=function(u){(function p(h){u.frameRequestId=i(p),t(u,h),e.world(u,h),(u.options.showStats||u.options.showDebug)&&e.stats(u,u.context,h),(u.options.showPerformance||u.options.showDebug)&&e.performance(u,u.context,h)})()},e.stop=function(u){s(u.frameRequestId)},e.setPixelRatio=function(u,p){var h=u.options,m=u.canvas;p==="auto"&&(p=g(m)),h.pixelRatio=p,m.setAttribute("data-pixel-ratio",p),m.width=h.width*p,m.height=h.height*p,m.style.width=h.width+"px",m.style.height=h.height+"px"},e.lookAt=function(u,p,h,m){m=typeof m!="undefined"?m:!0,p=o.isArray(p)?p:[p],h=h||{x:0,y:0};for(var S={min:{x:Infinity,y:Infinity},max:{x:-Infinity,y:-Infinity}},C=0;C<p.length;C+=1){var y=p[C],M=y.bounds?y.bounds.min:y.min||y.position||y,w=y.bounds?y.bounds.max:y.max||y.position||y;M&&w&&(M.x<S.min.x&&(S.min.x=M.x),w.x>S.max.x&&(S.max.x=w.x),M.y<S.min.y&&(S.min.y=M.y),w.y>S.max.y&&(S.max.y=w.y))}var I=S.max.x-S.min.x+2*h.x,A=S.max.y-S.min.y+2*h.y,E=u.canvas.height,B=u.canvas.width,R=B/E,L=I/A,V=1,O=1;L>R?O=L/R:V=R/L,u.options.hasBounds=!0,u.bounds.min.x=S.min.x,u.bounds.max.x=S.min.x+I*V,u.bounds.min.y=S.min.y,u.bounds.max.y=S.min.y+A*O,m&&(u.bounds.min.x+=I*.5-I*V*.5,u.bounds.max.x+=I*.5-I*V*.5,u.bounds.min.y+=A*.5-A*O*.5,u.bounds.max.y+=A*.5-A*O*.5),u.bounds.min.x-=h.x,u.bounds.max.x-=h.x,u.bounds.min.y-=h.y,u.bounds.max.y-=h.y,u.mouse&&(f.setScale(u.mouse,{x:(u.bounds.max.x-u.bounds.min.x)/u.canvas.width,y:(u.bounds.max.y-u.bounds.min.y)/u.canvas.height}),f.setOffset(u.mouse,u.bounds.min))},e.startViewTransform=function(u){var p=u.bounds.max.x-u.bounds.min.x,h=u.bounds.max.y-u.bounds.min.y,m=p/u.options.width,S=h/u.options.height;u.context.setTransform(u.options.pixelRatio/m,0,0,u.options.pixelRatio/S,0,0),u.context.translate(-u.bounds.min.x,-u.bounds.min.y)},e.endViewTransform=function(u){u.context.setTransform(u.options.pixelRatio,0,0,u.options.pixelRatio,0,0)},e.world=function(u,p){var h=o.now(),m=u.engine,S=m.world,C=u.canvas,y=u.context,M=u.options,w=u.timing,I=a.allBodies(S),A=a.allConstraints(S),E=M.wireframes?M.wireframeBackground:M.background,B=[],R=[],L,V={timestamp:m.timing.timestamp};if(v.trigger(u,"beforeRender",V),u.currentBackground!==E&&P(u,E),y.globalCompositeOperation="source-in",y.fillStyle="transparent",y.fillRect(0,0,C.width,C.height),y.globalCompositeOperation="source-over",M.hasBounds){for(L=0;L<I.length;L++){var O=I[L];n.overlaps(O.bounds,u.bounds)&&B.push(O)}for(L=0;L<A.length;L++){var D=A[L],W=D.bodyA,k=D.bodyB,U=D.pointA,z=D.pointB;W&&(U=r.add(W.position,D.pointA)),k&&(z=r.add(k.position,D.pointB)),!(!U||!z)&&(n.contains(u.bounds,U)||n.contains(u.bounds,z))&&R.push(D)}e.startViewTransform(u),u.mouse&&(f.setScale(u.mouse,{x:(u.bounds.max.x-u.bounds.min.x)/u.options.width,y:(u.bounds.max.y-u.bounds.min.y)/u.options.height}),f.setOffset(u.mouse,u.bounds.min))}else R=A,B=I,u.options.pixelRatio!==1&&u.context.setTransform(u.options.pixelRatio,0,0,u.options.pixelRatio,0,0);!M.wireframes||m.enableSleeping&&M.showSleeping?e.bodies(u,B,y):(M.showConvexHulls&&e.bodyConvexHulls(u,B,y),e.bodyWireframes(u,B,y)),M.showBounds&&e.bodyBounds(u,B,y),(M.showAxes||M.showAngleIndicator)&&e.bodyAxes(u,B,y),M.showPositions&&e.bodyPositions(u,B,y),M.showVelocity&&e.bodyVelocity(u,B,y),M.showIds&&e.bodyIds(u,B,y),M.showSeparations&&e.separations(u,m.pairs.list,y),M.showCollisions&&e.collisions(u,m.pairs.list,y),M.showVertexNumbers&&e.vertexNumbers(u,B,y),M.showMousePosition&&e.mousePosition(u,u.mouse,y),e.constraints(R,y),M.showBroadphase&&e.grid(u,m.grid,y),M.hasBounds&&e.endViewTransform(u),v.trigger(u,"afterRender",V),w.lastElapsed=o.now()-h},e.stats=function(u,p,h){for(var m=u.engine,S=m.world,C=a.allBodies(S),y=0,M=55,w=44,I=0,A=0,E=0;E<C.length;E+=1)y+=C[E].parts.length;var B={Part:y,Body:C.length,Cons:a.allConstraints(S).length,Comp:a.allComposites(S).length,Pair:m.pairs.list.length};p.fillStyle="#0e0f19",p.fillRect(I,A,M*5.5,w),p.font="12px Arial",p.textBaseline="top",p.textAlign="right";for(var R in B){var L=B[R];p.fillStyle="#aaa",p.fillText(R,I+M,A+8),p.fillStyle="#eee",p.fillText(L,I+M,A+26),I+=M}},e.performance=function(u,p){var h=u.engine,m=u.timing,S=m.deltaHistory,C=m.elapsedHistory,y=m.timestampElapsedHistory,M=m.engineDeltaHistory,w=m.engineElapsedHistory,I=h.timing.lastDelta,A=l(S),E=l(C),B=l(M),R=l(w),L=l(y),V=L/A||0,O=1e3/A||0,D=4,W=12,k=60,U=34,z=10,H=69;p.fillStyle="#0e0f19",p.fillRect(0,50,W*4+k*5+22,U),e.status(p,z,H,k,D,S.length,Math.round(O)+" fps",O/e._goodFps,function(G){return S[G]/A-1}),e.status(p,z+W+k,H,k,D,M.length,I.toFixed(2)+" dt",e._goodDelta/I,function(G){return M[G]/B-1}),e.status(p,z+(W+k)*2,H,k,D,w.length,R.toFixed(2)+" ut",1-R/e._goodFps,function(G){return w[G]/R-1}),e.status(p,z+(W+k)*3,H,k,D,C.length,E.toFixed(2)+" rt",1-E/e._goodFps,function(G){return C[G]/E-1}),e.status(p,z+(W+k)*4,H,k,D,y.length,V.toFixed(2)+" x",V*V*V,function(G){return(y[G]/S[G]/V||0)-1})},e.status=function(u,p,h,m,S,C,y,M,w){u.strokeStyle="#888",u.fillStyle="#444",u.lineWidth=1,u.fillRect(p,h+7,m,1),u.beginPath(),u.moveTo(p,h+7-S*o.clamp(.4*w(0),-2,2));for(var I=0;I<m;I+=1)u.lineTo(p+I,h+7-(I<C?S*o.clamp(.4*w(I),-2,2):0));u.stroke(),u.fillStyle="hsl("+o.clamp(25+95*M,0,120)+",100%,60%)",u.fillRect(p,h-7,4,4),u.font="12px Arial",u.textBaseline="middle",u.textAlign="right",u.fillStyle="#eee",u.fillText(y,p+m,h-5)},e.constraints=function(u,p){for(var h=p,m=0;m<u.length;m++){var S=u[m];if(!(!S.render.visible||!S.pointA||!S.pointB)){var C=S.bodyA,y=S.bodyB,M,w;if(C?M=r.add(C.position,S.pointA):M=S.pointA,S.render.type==="pin")h.beginPath(),h.arc(M.x,M.y,3,0,2*Math.PI),h.closePath();else{if(y?w=r.add(y.position,S.pointB):w=S.pointB,h.beginPath(),h.moveTo(M.x,M.y),S.render.type==="spring")for(var I=r.sub(w,M),A=r.perp(r.normalise(I)),E=Math.ceil(o.clamp(S.length/5,12,20)),B,R=1;R<E;R+=1)B=R%2==0?1:-1,h.lineTo(M.x+I.x*(R/E)+A.x*B*4,M.y+I.y*(R/E)+A.y*B*4);h.lineTo(w.x,w.y)}S.render.lineWidth&&(h.lineWidth=S.render.lineWidth,h.strokeStyle=S.render.strokeStyle,h.stroke()),S.render.anchors&&(h.fillStyle=S.render.strokeStyle,h.beginPath(),h.arc(M.x,M.y,3,0,2*Math.PI),h.arc(w.x,w.y,3,0,2*Math.PI),h.closePath(),h.fill())}}},e.bodies=function(u,p,h){var m=h,S=u.engine,C=u.options,y=C.showInternalEdges||!C.wireframes,M,w,I,A;for(I=0;I<p.length;I++)if(M=p[I],!!M.render.visible){for(A=M.parts.length>1?1:0;A<M.parts.length;A++)if(w=M.parts[A],!!w.render.visible){if(C.showSleeping&&M.isSleeping?m.globalAlpha=.5*w.render.opacity:w.render.opacity!==1&&(m.globalAlpha=w.render.opacity),w.render.sprite&&w.render.sprite.texture&&!C.wireframes){var E=w.render.sprite,B=d(u,E.texture);m.translate(w.position.x,w.position.y),m.rotate(w.angle),m.drawImage(B,B.width*-E.xOffset*E.xScale,B.height*-E.yOffset*E.yScale,B.width*E.xScale,B.height*E.yScale),m.rotate(-w.angle),m.translate(-w.position.x,-w.position.y)}else{if(w.circleRadius)m.beginPath(),m.arc(w.position.x,w.position.y,w.circleRadius,0,2*Math.PI);else{m.beginPath(),m.moveTo(w.vertices[0].x,w.vertices[0].y);for(var R=1;R<w.vertices.length;R++)!w.vertices[R-1].isInternal||y?m.lineTo(w.vertices[R].x,w.vertices[R].y):m.moveTo(w.vertices[R].x,w.vertices[R].y),w.vertices[R].isInternal&&!y&&m.moveTo(w.vertices[(R+1)%w.vertices.length].x,w.vertices[(R+1)%w.vertices.length].y);m.lineTo(w.vertices[0].x,w.vertices[0].y),m.closePath()}C.wireframes?(m.lineWidth=1,m.strokeStyle="#bbb",m.stroke()):(m.fillStyle=w.render.fillStyle,w.render.lineWidth&&(m.lineWidth=w.render.lineWidth,m.strokeStyle=w.render.strokeStyle,m.stroke()),m.fill())}m.globalAlpha=1}}},e.bodyWireframes=function(u,p,h){var m=h,S=u.options.showInternalEdges,C,y,M,w,I;for(m.beginPath(),M=0;M<p.length;M++)if(C=p[M],!!C.render.visible)for(I=C.parts.length>1?1:0;I<C.parts.length;I++){for(y=C.parts[I],m.moveTo(y.vertices[0].x,y.vertices[0].y),w=1;w<y.vertices.length;w++)!y.vertices[w-1].isInternal||S?m.lineTo(y.vertices[w].x,y.vertices[w].y):m.moveTo(y.vertices[w].x,y.vertices[w].y),y.vertices[w].isInternal&&!S&&m.moveTo(y.vertices[(w+1)%y.vertices.length].x,y.vertices[(w+1)%y.vertices.length].y);m.lineTo(y.vertices[0].x,y.vertices[0].y)}m.lineWidth=1,m.strokeStyle="#bbb",m.stroke()},e.bodyConvexHulls=function(u,p,h){var m=h,S,C,y,M,w;for(m.beginPath(),y=0;y<p.length;y++)if(S=p[y],!(!S.render.visible||S.parts.length===1)){for(m.moveTo(S.vertices[0].x,S.vertices[0].y),M=1;M<S.vertices.length;M++)m.lineTo(S.vertices[M].x,S.vertices[M].y);m.lineTo(S.vertices[0].x,S.vertices[0].y)}m.lineWidth=1,m.strokeStyle="rgba(255,255,255,0.2)",m.stroke()},e.vertexNumbers=function(u,p,h){var m=h,S,C,y;for(S=0;S<p.length;S++){var M=p[S].parts;for(y=M.length>1?1:0;y<M.length;y++){var w=M[y];for(C=0;C<w.vertices.length;C++)m.fillStyle="rgba(255,255,255,0.2)",m.fillText(S+"_"+C,w.position.x+(w.vertices[C].x-w.position.x)*.8,w.position.y+(w.vertices[C].y-w.position.y)*.8)}}},e.mousePosition=function(u,p,h){var m=h;m.fillStyle="rgba(255,255,255,0.8)",m.fillText(p.position.x+"  "+p.position.y,p.position.x+5,p.position.y-5)},e.bodyBounds=function(u,p,h){var m=h,S=u.engine,C=u.options;m.beginPath();for(var y=0;y<p.length;y++){var M=p[y];if(M.render.visible)for(var w=p[y].parts,I=w.length>1?1:0;I<w.length;I++){var A=w[I];m.rect(A.bounds.min.x,A.bounds.min.y,A.bounds.max.x-A.bounds.min.x,A.bounds.max.y-A.bounds.min.y)}}C.wireframes?m.strokeStyle="rgba(255,255,255,0.08)":m.strokeStyle="rgba(0,0,0,0.1)",m.lineWidth=1,m.stroke()},e.bodyAxes=function(u,p,h){var m=h,S=u.engine,C=u.options,y,M,w,I;for(m.beginPath(),M=0;M<p.length;M++){var A=p[M],E=A.parts;if(!!A.render.visible)if(C.showAxes)for(w=E.length>1?1:0;w<E.length;w++)for(y=E[w],I=0;I<y.axes.length;I++){var B=y.axes[I];m.moveTo(y.position.x,y.position.y),m.lineTo(y.position.x+B.x*20,y.position.y+B.y*20)}else for(w=E.length>1?1:0;w<E.length;w++)for(y=E[w],I=0;I<y.axes.length;I++)m.moveTo(y.position.x,y.position.y),m.lineTo((y.vertices[0].x+y.vertices[y.vertices.length-1].x)/2,(y.vertices[0].y+y.vertices[y.vertices.length-1].y)/2)}C.wireframes?(m.strokeStyle="indianred",m.lineWidth=1):(m.strokeStyle="rgba(255, 255, 255, 0.4)",m.globalCompositeOperation="overlay",m.lineWidth=2),m.stroke(),m.globalCompositeOperation="source-over"},e.bodyPositions=function(u,p,h){var m=h,S=u.engine,C=u.options,y,M,w,I;for(m.beginPath(),w=0;w<p.length;w++)if(y=p[w],!!y.render.visible)for(I=0;I<y.parts.length;I++)M=y.parts[I],m.arc(M.position.x,M.position.y,3,0,2*Math.PI,!1),m.closePath();for(C.wireframes?m.fillStyle="indianred":m.fillStyle="rgba(0,0,0,0.5)",m.fill(),m.beginPath(),w=0;w<p.length;w++)y=p[w],y.render.visible&&(m.arc(y.positionPrev.x,y.positionPrev.y,2,0,2*Math.PI,!1),m.closePath());m.fillStyle="rgba(255,165,0,0.8)",m.fill()},e.bodyVelocity=function(u,p,h){var m=h;m.beginPath();for(var S=0;S<p.length;S++){var C=p[S];!C.render.visible||(m.moveTo(C.position.x,C.position.y),m.lineTo(C.position.x+(C.position.x-C.positionPrev.x)*2,C.position.y+(C.position.y-C.positionPrev.y)*2))}m.lineWidth=3,m.strokeStyle="cornflowerblue",m.stroke()},e.bodyIds=function(u,p,h){var m=h,S,C;for(S=0;S<p.length;S++)if(!!p[S].render.visible){var y=p[S].parts;for(C=y.length>1?1:0;C<y.length;C++){var M=y[C];m.font="12px Arial",m.fillStyle="rgba(255,255,255,0.5)",m.fillText(M.id,M.position.x+10,M.position.y-10)}}},e.collisions=function(u,p,h){var m=h,S=u.options,C,y,M,w,I,A,E;for(m.beginPath(),A=0;A<p.length;A++)if(C=p[A],!!C.isActive)for(y=C.collision,E=0;E<C.activeContacts.length;E++){var B=C.activeContacts[E],R=B.vertex;m.rect(R.x-1.5,R.y-1.5,3.5,3.5)}for(S.wireframes?m.fillStyle="rgba(255,255,255,0.7)":m.fillStyle="orange",m.fill(),m.beginPath(),A=0;A<p.length;A++)if(C=p[A],!!C.isActive&&(y=C.collision,C.activeContacts.length>0)){var L=C.activeContacts[0].vertex.x,V=C.activeContacts[0].vertex.y;C.activeContacts.length===2&&(L=(C.activeContacts[0].vertex.x+C.activeContacts[1].vertex.x)/2,V=(C.activeContacts[0].vertex.y+C.activeContacts[1].vertex.y)/2),y.bodyB===y.supports[0].body||y.bodyA.isStatic===!0?m.moveTo(L-y.normal.x*8,V-y.normal.y*8):m.moveTo(L+y.normal.x*8,V+y.normal.y*8),m.lineTo(L,V)}S.wireframes?m.strokeStyle="rgba(255,165,0,0.7)":m.strokeStyle="orange",m.lineWidth=1,m.stroke()},e.separations=function(u,p,h){var m=h,S=u.options,C,y,M,w,I,A,E;for(m.beginPath(),A=0;A<p.length;A++)if(C=p[A],!!C.isActive){y=C.collision,w=y.bodyA,I=y.bodyB;var B=1;!I.isStatic&&!w.isStatic&&(B=.5),I.isStatic&&(B=0),m.moveTo(I.position.x,I.position.y),m.lineTo(I.position.x-y.penetration.x*B,I.position.y-y.penetration.y*B),B=1,!I.isStatic&&!w.isStatic&&(B=.5),w.isStatic&&(B=0),m.moveTo(w.position.x,w.position.y),m.lineTo(w.position.x+y.penetration.x*B,w.position.y+y.penetration.y*B)}S.wireframes?m.strokeStyle="rgba(255,165,0,0.5)":m.strokeStyle="orange",m.stroke()},e.grid=function(u,p,h){var m=h,S=u.options;S.wireframes?m.strokeStyle="rgba(255,180,0,0.1)":m.strokeStyle="rgba(255,180,0,0.5)",m.beginPath();for(var C=o.keys(p.buckets),y=0;y<C.length;y++){var M=C[y];if(!(p.buckets[M].length<2)){var w=M.split(/C|R/);m.rect(.5+parseInt(w[1],10)*p.bucketWidth,.5+parseInt(w[2],10)*p.bucketHeight,p.bucketWidth,p.bucketHeight)}}m.lineWidth=1,m.stroke()},e.inspector=function(u,p){var h=u.engine,m=u.selected,S=u.render,C=S.options,y;if(C.hasBounds){var M=S.bounds.max.x-S.bounds.min.x,w=S.bounds.max.y-S.bounds.min.y,I=M/S.options.width,A=w/S.options.height;p.scale(1/I,1/A),p.translate(-S.bounds.min.x,-S.bounds.min.y)}for(var E=0;E<m.length;E++){var B=m[E].data;switch(p.translate(.5,.5),p.lineWidth=1,p.strokeStyle="rgba(255,165,0,0.9)",p.setLineDash([1,2]),B.type){case"body":y=B.bounds,p.beginPath(),p.rect(Math.floor(y.min.x-3),Math.floor(y.min.y-3),Math.floor(y.max.x-y.min.x+6),Math.floor(y.max.y-y.min.y+6)),p.closePath(),p.stroke();break;case"constraint":var R=B.pointA;B.bodyA&&(R=B.pointB),p.beginPath(),p.arc(R.x,R.y,10,0,2*Math.PI),p.closePath(),p.stroke();break}p.setLineDash([]),p.translate(-.5,-.5)}u.selectStart!==null&&(p.translate(.5,.5),p.lineWidth=1,p.strokeStyle="rgba(255,165,0,0.6)",p.fillStyle="rgba(255,165,0,0.1)",y=u.selectBounds,p.beginPath(),p.rect(Math.floor(y.min.x),Math.floor(y.min.y),Math.floor(y.max.x-y.min.x),Math.floor(y.max.y-y.min.y)),p.closePath(),p.stroke(),p.fill(),p.translate(-.5,-.5)),C.hasBounds&&p.setTransform(1,0,0,1,0,0)};var t=function(u,p){var h=u.engine,m=u.timing,S=m.historySize,C=h.timing.timestamp;m.delta=p-m.lastTime||e._goodDelta,m.lastTime=p,m.timestampElapsed=C-m.lastTimestamp||0,m.lastTimestamp=C,m.deltaHistory.unshift(m.delta),m.deltaHistory.length=Math.min(m.deltaHistory.length,S),m.engineDeltaHistory.unshift(h.timing.lastDelta),m.engineDeltaHistory.length=Math.min(m.engineDeltaHistory.length,S),m.timestampElapsedHistory.unshift(m.timestampElapsed),m.timestampElapsedHistory.length=Math.min(m.timestampElapsedHistory.length,S),m.engineElapsedHistory.unshift(h.timing.lastElapsed),m.engineElapsedHistory.length=Math.min(m.engineElapsedHistory.length,S),m.elapsedHistory.unshift(m.lastElapsed),m.elapsedHistory.length=Math.min(m.elapsedHistory.length,S)},l=function(u){for(var p=0,h=0;h<u.length;h+=1)p+=u[h];return p/u.length||0},c=function(u,p){var h=document.createElement("canvas");return h.width=u,h.height=p,h.oncontextmenu=function(){return!1},h.onselectstart=function(){return!1},h},g=function(u){var p=u.getContext("2d"),h=window.devicePixelRatio||1,m=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1;return h/m},d=function(u,p){var h=u.textures[p];return h||(h=u.textures[p]=new Image,h.src=p,h)},P=function(u,p){var h=p;/(jpg|gif|png)$/.test(p)&&(h="url("+p+")"),u.canvas.style.background=h,u.canvas.style.backgroundSize="contain",u.currentBackground=p}})()},function(T,F){var x={};T.exports=x,function(){x.create=function(e){return{id:x.id(e),vertex:e,normalImpulse:0,tangentImpulse:0}},x.id=function(e){return e.body.id+"_"+e.index}}()},function(T,F,x){var e={};T.exports=e;var o=x(7),a=x(19),n=x(13),v=x(20),r=x(21),f=x(4),i=x(5),s=x(8),t=x(0),l=x(6);(function(){e.create=function(c){c=c||{};var g={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},grid:null,gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},d=t.extend(g,c);return d.world=c.world||i.create({label:"World"}),d.grid=r.create(c.grid||c.broadphase),d.pairs=v.create(),d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},e.update=function(c,g,d){var P=t.now();g=g||1e3/60,d=d||1;var u=c.world,p=c.timing,h=c.grid,m=[],S;p.timestamp+=g*p.timeScale,p.lastDelta=g*p.timeScale;var C={timestamp:p.timestamp};f.trigger(c,"beforeUpdate",C);var y=i.allBodies(u),M=i.allConstraints(u);for(c.enableSleeping&&o.update(y,p.timeScale),e._bodiesApplyGravity(y,c.gravity),e._bodiesUpdate(y,g,p.timeScale,d,u.bounds),s.preSolveAll(y),S=0;S<c.constraintIterations;S++)s.solveAll(M,p.timeScale);s.postSolveAll(y),u.isModified&&r.clear(h),r.update(h,y,c,u.isModified),m=h.pairsList,u.isModified&&i.setModified(u,!1,!1,!0);var w=n.collisions(m,c),I=c.pairs,A=p.timestamp;for(v.update(I,w,A),v.removeOld(I,A),c.enableSleeping&&o.afterCollisions(I.list,p.timeScale),I.collisionStart.length>0&&f.trigger(c,"collisionStart",{pairs:I.collisionStart}),a.preSolvePosition(I.list),S=0;S<c.positionIterations;S++)a.solvePosition(I.list,p.timeScale);for(a.postSolvePosition(y),s.preSolveAll(y),S=0;S<c.constraintIterations;S++)s.solveAll(M,p.timeScale);for(s.postSolveAll(y),a.preSolveVelocity(I.list),S=0;S<c.velocityIterations;S++)a.solveVelocity(I.list,p.timeScale);return I.collisionActive.length>0&&f.trigger(c,"collisionActive",{pairs:I.collisionActive}),I.collisionEnd.length>0&&f.trigger(c,"collisionEnd",{pairs:I.collisionEnd}),e._bodiesClearForces(y),f.trigger(c,"afterUpdate",C),c.timing.lastElapsed=t.now()-P,c},e.merge=function(c,g){if(t.extend(c,g),g.world){c.world=g.world,e.clear(c);for(var d=i.allBodies(c.world),P=0;P<d.length;P++){var u=d[P];o.set(u,!1),u.id=t.nextId()}}},e.clear=function(c){var g=c.world,d=i.allBodies(g);v.clear(c.pairs),r.clear(c.grid),r.update(c.grid,d,c,!0)},e._bodiesClearForces=function(c){for(var g=0;g<c.length;g++){var d=c[g];d.force.x=0,d.force.y=0,d.torque=0}},e._bodiesApplyGravity=function(c,g){var d=typeof g.scale!="undefined"?g.scale:.001;if(!(g.x===0&&g.y===0||d===0))for(var P=0;P<c.length;P++){var u=c[P];u.isStatic||u.isSleeping||(u.force.y+=u.mass*g.y*d,u.force.x+=u.mass*g.x*d)}},e._bodiesUpdate=function(c,g,d,P,u){for(var p=0;p<c.length;p++){var h=c[p];h.isStatic||h.isSleeping||l.update(h,g,d,P)}}})()},function(T,F,x){var e={};T.exports=e;var o=x(3),a=x(2),n=x(0),v=x(1);(function(){e._restingThresh=4,e._restingThreshTangent=6,e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e.preSolvePosition=function(r){var f,i,s;for(f=0;f<r.length;f++)i=r[f],!!i.isActive&&(s=i.activeContacts.length,i.collision.parentA.totalContacts+=s,i.collision.parentB.totalContacts+=s)},e.solvePosition=function(r,f){var i,s,t,l,c,g,d,P,u,p={},h=a._temp[0],m=a._temp[1],S=a._temp[2],C=a._temp[3];for(i=0;i<r.length;i++)s=r[i],!(!s.isActive||s.isSensor)&&(t=s.collision,l=t.parentA,c=t.parentB,g=t.normal,d=a.sub(a.add(c.positionImpulse,c.position,h),a.add(l.positionImpulse,a.sub(c.position,t.penetration,m),S),C),s.separation=a.dot(g,d));for(i=0;i<r.length;i++)s=r[i],!(!s.isActive||s.isSensor)&&(t=s.collision,l=t.parentA,c=t.parentB,g=t.normal,u=(s.separation-s.slop)*f,(l.isStatic||c.isStatic)&&(u*=2),l.isStatic||l.isSleeping||(P=e._positionDampen/l.totalContacts,l.positionImpulse.x+=g.x*u*P,l.positionImpulse.y+=g.y*u*P),c.isStatic||c.isSleeping||(P=e._positionDampen/c.totalContacts,c.positionImpulse.x-=g.x*u*P,c.positionImpulse.y-=g.y*u*P))},e.postSolvePosition=function(r){for(var f=0;f<r.length;f++){var i=r[f];if(i.totalContacts=0,i.positionImpulse.x!==0||i.positionImpulse.y!==0){for(var s=0;s<i.parts.length;s++){var t=i.parts[s];o.translate(t.vertices,i.positionImpulse),v.update(t.bounds,t.vertices,i.velocity),t.position.x+=i.positionImpulse.x,t.position.y+=i.positionImpulse.y}i.positionPrev.x+=i.positionImpulse.x,i.positionPrev.y+=i.positionImpulse.y,a.dot(i.positionImpulse,i.velocity)<0?(i.positionImpulse.x=0,i.positionImpulse.y=0):(i.positionImpulse.x*=e._positionWarming,i.positionImpulse.y*=e._positionWarming)}}},e.preSolveVelocity=function(r){var f,i,s,t,l,c,g,d,P,u,p,h,m,S,C=a._temp[0],y=a._temp[1];for(f=0;f<r.length;f++)if(s=r[f],!(!s.isActive||s.isSensor))for(t=s.activeContacts,l=s.collision,c=l.parentA,g=l.parentB,d=l.normal,P=l.tangent,i=0;i<t.length;i++)u=t[i],p=u.vertex,h=u.normalImpulse,m=u.tangentImpulse,(h!==0||m!==0)&&(C.x=d.x*h+P.x*m,C.y=d.y*h+P.y*m,c.isStatic||c.isSleeping||(S=a.sub(p,c.position,y),c.positionPrev.x+=C.x*c.inverseMass,c.positionPrev.y+=C.y*c.inverseMass,c.anglePrev+=a.cross(S,C)*c.inverseInertia),g.isStatic||g.isSleeping||(S=a.sub(p,g.position,y),g.positionPrev.x-=C.x*g.inverseMass,g.positionPrev.y-=C.y*g.inverseMass,g.anglePrev-=a.cross(S,C)*g.inverseInertia))},e.solveVelocity=function(r,f){for(var i=f*f,s=a._temp[0],t=a._temp[1],l=a._temp[2],c=a._temp[3],g=a._temp[4],d=a._temp[5],P=0;P<r.length;P++){var u=r[P];if(!(!u.isActive||u.isSensor)){var p=u.collision,h=p.parentA,m=p.parentB,S=p.normal,C=p.tangent,y=u.activeContacts,M=1/y.length;h.velocity.x=h.position.x-h.positionPrev.x,h.velocity.y=h.position.y-h.positionPrev.y,m.velocity.x=m.position.x-m.positionPrev.x,m.velocity.y=m.position.y-m.positionPrev.y,h.angularVelocity=h.angle-h.anglePrev,m.angularVelocity=m.angle-m.anglePrev;for(var w=0;w<y.length;w++){var I=y[w],A=I.vertex,E=a.sub(A,h.position,t),B=a.sub(A,m.position,l),R=a.add(h.velocity,a.mult(a.perp(E),h.angularVelocity),c),L=a.add(m.velocity,a.mult(a.perp(B),m.angularVelocity),g),V=a.sub(R,L,d),O=a.dot(S,V),D=a.dot(C,V),W=Math.abs(D),k=n.sign(D),U=(1+u.restitution)*O,z=n.clamp(u.separation+O,0,1)*e._frictionNormalMultiplier,H=D,G=Infinity;W>u.friction*u.frictionStatic*z*i&&(G=W,H=n.clamp(u.friction*k*i,-G,G));var X=a.cross(E,S),Z=a.cross(B,S),Y=M/(h.inverseMass+m.inverseMass+h.inverseInertia*X*X+m.inverseInertia*Z*Z);if(U*=Y,H*=Y,O<0&&O*O>e._restingThresh*i)I.normalImpulse=0;else{var $=I.normalImpulse;I.normalImpulse=Math.min(I.normalImpulse+U,0),U=I.normalImpulse-$}if(D*D>e._restingThreshTangent*i)I.tangentImpulse=0;else{var K=I.tangentImpulse;I.tangentImpulse=n.clamp(I.tangentImpulse+H,-G,G),H=I.tangentImpulse-K}s.x=S.x*U+C.x*H,s.y=S.y*U+C.y*H,h.isStatic||h.isSleeping||(h.positionPrev.x+=s.x*h.inverseMass,h.positionPrev.y+=s.y*h.inverseMass,h.anglePrev+=a.cross(E,s)*h.inverseInertia),m.isStatic||m.isSleeping||(m.positionPrev.x-=s.x*m.inverseMass,m.positionPrev.y-=s.y*m.inverseMass,m.anglePrev-=a.cross(B,s)*m.inverseInertia)}}}}})()},function(T,F,x){var e={};T.exports=e;var o=x(9),a=x(0);(function(){e._pairMaxIdleLife=1e3,e.create=function(n){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},n)},e.update=function(n,v,r){var f=n.list,i=n.table,s=n.collisionStart,t=n.collisionEnd,l=n.collisionActive,c,g,d,P;for(s.length=0,t.length=0,l.length=0,P=0;P<f.length;P++)f[P].confirmedActive=!1;for(P=0;P<v.length;P++)c=v[P],c.collided&&(g=o.id(c.bodyA,c.bodyB),d=i[g],d?(d.isActive?l.push(d):s.push(d),o.update(d,c,r),d.confirmedActive=!0):(d=o.create(c,r),i[g]=d,s.push(d),f.push(d)));for(P=0;P<f.length;P++)d=f[P],d.isActive&&!d.confirmedActive&&(o.setActive(d,!1,r),t.push(d))},e.removeOld=function(n,v){var r=n.list,f=n.table,i=[],s,t,l,c;for(c=0;c<r.length;c++){if(s=r[c],t=s.collision,t.bodyA.isSleeping||t.bodyB.isSleeping){s.timeUpdated=v;continue}v-s.timeUpdated>e._pairMaxIdleLife&&i.push(c)}for(c=0;c<i.length;c++)l=i[c]-c,s=r[l],delete f[s.id],r.splice(l,1)},e.clear=function(n){return n.table={},n.list.length=0,n.collisionStart.length=0,n.collisionActive.length=0,n.collisionEnd.length=0,n}})()},function(T,F,x){var e={};T.exports=e;var o=x(9),a=x(0);(function(){e.create=function(n){var v={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(v,n)},e.update=function(n,v,r,f){var i,s,t,l=r.world,c=n.buckets,g,d,P=!1;for(i=0;i<v.length;i++){var u=v[i];if(!(u.isSleeping&&!f)&&!(l.bounds&&(u.bounds.max.x<l.bounds.min.x||u.bounds.min.x>l.bounds.max.x||u.bounds.max.y<l.bounds.min.y||u.bounds.min.y>l.bounds.max.y))){var p=e._getRegion(n,u);if(!u.region||p.id!==u.region.id||f){(!u.region||f)&&(u.region=p);var h=e._regionUnion(p,u.region);for(s=h.startCol;s<=h.endCol;s++)for(t=h.startRow;t<=h.endRow;t++){d=e._getBucketId(s,t),g=c[d];var m=s>=p.startCol&&s<=p.endCol&&t>=p.startRow&&t<=p.endRow,S=s>=u.region.startCol&&s<=u.region.endCol&&t>=u.region.startRow&&t<=u.region.endRow;!m&&S&&S&&g&&e._bucketRemoveBody(n,g,u),(u.region===p||m&&!S||f)&&(g||(g=e._createBucket(c,d)),e._bucketAddBody(n,g,u))}u.region=p,P=!0}}}P&&(n.pairsList=e._createActivePairsList(n))},e.clear=function(n){n.buckets={},n.pairs={},n.pairsList=[]},e._regionUnion=function(n,v){var r=Math.min(n.startCol,v.startCol),f=Math.max(n.endCol,v.endCol),i=Math.min(n.startRow,v.startRow),s=Math.max(n.endRow,v.endRow);return e._createRegion(r,f,i,s)},e._getRegion=function(n,v){var r=v.bounds,f=Math.floor(r.min.x/n.bucketWidth),i=Math.floor(r.max.x/n.bucketWidth),s=Math.floor(r.min.y/n.bucketHeight),t=Math.floor(r.max.y/n.bucketHeight);return e._createRegion(f,i,s,t)},e._createRegion=function(n,v,r,f){return{id:n+","+v+","+r+","+f,startCol:n,endCol:v,startRow:r,endRow:f}},e._getBucketId=function(n,v){return"C"+n+"R"+v},e._createBucket=function(n,v){var r=n[v]=[];return r},e._bucketAddBody=function(n,v,r){for(var f=0;f<v.length;f++){var i=v[f];if(!(r.id===i.id||r.isStatic&&i.isStatic)){var s=o.id(r,i),t=n.pairs[s];t?t[2]+=1:n.pairs[s]=[r,i,1]}}v.push(r)},e._bucketRemoveBody=function(n,v,r){v.splice(a.indexOf(v,r),1);for(var f=0;f<v.length;f++){var i=v[f],s=o.id(r,i),t=n.pairs[s];t&&(t[2]-=1)}},e._createActivePairsList=function(n){var v,r,f=[];v=a.keys(n.pairs);for(var i=0;i<v.length;i++)r=n.pairs[v[i]],r[2]>0?f.push(r):delete n.pairs[v[i]];return f}})()},function(T,F,x){var e=T.exports=x(23);e.Axes=x(10),e.Bodies=x(11),e.Body=x(6),e.Bounds=x(1),e.Common=x(0),e.Composite=x(5),e.Composites=x(24),e.Constraint=x(8),e.Contact=x(17),e.Detector=x(13),e.Engine=x(18),e.Events=x(4),e.Grid=x(21),e.Mouse=x(12),e.MouseConstraint=x(25),e.Pair=x(9),e.Pairs=x(20),e.Plugin=x(15),e.Query=x(26),e.Render=x(16),e.Resolver=x(19),e.Runner=x(27),e.SAT=x(14),e.Sleeping=x(7),e.Svg=x(28),e.Vector=x(2),e.Vertices=x(3),e.World=x(29),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run \u27A4 use Matter.Runner.run(engine) instead")},function(T,F,x){var e={};T.exports=e;var o=x(15),a=x(0);(function(){e.name="matter-js",e.version="0.17.1",e.uses=[],e.used=[],e.use=function(){o.use(e,Array.prototype.slice.call(arguments))},e.before=function(n,v){return n=n.replace(/^Matter./,""),a.chainPathBefore(e,n,v)},e.after=function(n,v){return n=n.replace(/^Matter./,""),a.chainPathAfter(e,n,v)}})()},function(T,F,x){var e={};T.exports=e;var o=x(5),a=x(8),n=x(0),v=x(6),r=x(11),f=n.deprecated;(function(){e.stack=function(i,s,t,l,c,g,d){for(var P=o.create({label:"Stack"}),u=i,p=s,h,m=0,S=0;S<l;S++){for(var C=0,y=0;y<t;y++){var M=d(u,p,y,S,h,m);if(M){var w=M.bounds.max.y-M.bounds.min.y,I=M.bounds.max.x-M.bounds.min.x;w>C&&(C=w),v.translate(M,{x:I*.5,y:w*.5}),u=M.bounds.max.x+c,o.addBody(P,M),h=M,m+=1}else u+=c}p+=C+g,u=i}return P},e.chain=function(i,s,t,l,c,g){for(var d=i.bodies,P=1;P<d.length;P++){var u=d[P-1],p=d[P],h=u.bounds.max.y-u.bounds.min.y,m=u.bounds.max.x-u.bounds.min.x,S=p.bounds.max.y-p.bounds.min.y,C=p.bounds.max.x-p.bounds.min.x,y={bodyA:u,pointA:{x:m*s,y:h*t},bodyB:p,pointB:{x:C*l,y:S*c}},M=n.extend(y,g);o.addConstraint(i,a.create(M))}return i.label+=" Chain",i},e.mesh=function(i,s,t,l,c){var g=i.bodies,d,P,u,p,h;for(d=0;d<t;d++){for(P=1;P<s;P++)u=g[P-1+d*s],p=g[P+d*s],o.addConstraint(i,a.create(n.extend({bodyA:u,bodyB:p},c)));if(d>0)for(P=0;P<s;P++)u=g[P+(d-1)*s],p=g[P+d*s],o.addConstraint(i,a.create(n.extend({bodyA:u,bodyB:p},c))),l&&P>0&&(h=g[P-1+(d-1)*s],o.addConstraint(i,a.create(n.extend({bodyA:h,bodyB:p},c)))),l&&P<s-1&&(h=g[P+1+(d-1)*s],o.addConstraint(i,a.create(n.extend({bodyA:h,bodyB:p},c))))}return i.label+=" Mesh",i},e.pyramid=function(i,s,t,l,c,g,d){return e.stack(i,s,t,l,c,g,function(P,u,p,h,m,S){var C=Math.min(l,Math.ceil(t/2)),y=m?m.bounds.max.x-m.bounds.min.x:0;if(!(h>C)){h=C-h;var M=h,w=t-1-h;if(!(p<M||p>w)){S===1&&v.translate(m,{x:(p+(t%2==1?1:-1))*y,y:0});var I=m?p*y:0;return d(i+I+p*c,u,p,h,m,S)}}})},e.newtonsCradle=function(i,s,t,l,c){for(var g=o.create({label:"Newtons Cradle"}),d=0;d<t;d++){var P=1.9,u=r.circle(i+d*(l*P),s+c,l,{inertia:Infinity,restitution:1,friction:0,frictionAir:1e-4,slop:1}),p=a.create({pointA:{x:i+d*(l*P),y:s},bodyB:u});o.addBody(g,u),o.addConstraint(g,p)}return g},f(e,"newtonsCradle","Composites.newtonsCradle \u27A4 moved to newtonsCradle example"),e.car=function(i,s,t,l,c){var g=v.nextGroup(!0),d=20,P=-t*.5+d,u=t*.5-d,p=0,h=o.create({label:"Car"}),m=r.rectangle(i,s,t,l,{collisionFilter:{group:g},chamfer:{radius:l*.5},density:2e-4}),S=r.circle(i+P,s+p,c,{collisionFilter:{group:g},friction:.8}),C=r.circle(i+u,s+p,c,{collisionFilter:{group:g},friction:.8}),y=a.create({bodyB:m,pointB:{x:P,y:p},bodyA:S,stiffness:1,length:0}),M=a.create({bodyB:m,pointB:{x:u,y:p},bodyA:C,stiffness:1,length:0});return o.addBody(h,m),o.addBody(h,S),o.addBody(h,C),o.addConstraint(h,y),o.addConstraint(h,M),h},f(e,"car","Composites.car \u27A4 moved to car example"),e.softBody=function(i,s,t,l,c,g,d,P,u,p){u=n.extend({inertia:Infinity},u),p=n.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var h=e.stack(i,s,t,l,c,g,function(m,S){return r.circle(m,S,P,u)});return e.mesh(h,t,l,d,p),h.label="Soft Body",h},f(e,"softBody","Composites.softBody \u27A4 moved to softBody and cloth examples")})()},function(T,F,x){var e={};T.exports=e;var o=x(3),a=x(7),n=x(12),v=x(4),r=x(13),f=x(8),i=x(5),s=x(0),t=x(1);(function(){e.create=function(l,c){var g=(l?l.mouse:null)||(c?c.mouse:null);g||(l&&l.render&&l.render.canvas?g=n.create(l.render.canvas):c&&c.element?g=n.create(c.element):(g=n.create(),s.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var d=f.create({label:"Mouse Constraint",pointA:g.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),P={type:"mouseConstraint",mouse:g,element:null,body:null,constraint:d,collisionFilter:{category:1,mask:4294967295,group:0}},u=s.extend(P,c);return v.on(l,"beforeUpdate",function(){var p=i.allBodies(l.world);e.update(u,p),e._triggerEvents(u)}),u},e.update=function(l,c){var g=l.mouse,d=l.constraint,P=l.body;if(g.button===0){if(d.bodyB)a.set(d.bodyB,!1),d.pointA=g.position;else for(var u=0;u<c.length;u++)if(P=c[u],t.contains(P.bounds,g.position)&&r.canCollide(P.collisionFilter,l.collisionFilter))for(var p=P.parts.length>1?1:0;p<P.parts.length;p++){var h=P.parts[p];if(o.contains(h.vertices,g.position)){d.pointA=g.position,d.bodyB=l.body=P,d.pointB={x:g.position.x-P.position.x,y:g.position.y-P.position.y},d.angleB=P.angle,a.set(P,!1),v.trigger(l,"startdrag",{mouse:g,body:P});break}}}else d.bodyB=l.body=null,d.pointB=null,P&&v.trigger(l,"enddrag",{mouse:g,body:P})},e._triggerEvents=function(l){var c=l.mouse,g=c.sourceEvents;g.mousemove&&v.trigger(l,"mousemove",{mouse:c}),g.mousedown&&v.trigger(l,"mousedown",{mouse:c}),g.mouseup&&v.trigger(l,"mouseup",{mouse:c}),n.clearSourceEvents(c)}})()},function(T,F,x){var e={};T.exports=e;var o=x(2),a=x(14),n=x(1),v=x(11),r=x(3);(function(){e.collides=function(f,i){for(var s=[],t=0;t<i.length;t++){var l=i[t];if(n.overlaps(l.bounds,f.bounds))for(var c=l.parts.length===1?0:1;c<l.parts.length;c++){var g=l.parts[c];if(n.overlaps(g.bounds,f.bounds)){var d=a.collides(g,f);if(d.collided){s.push(d);break}}}}return s},e.ray=function(f,i,s,t){t=t||1e-100;for(var l=o.angle(i,s),c=o.magnitude(o.sub(i,s)),g=(s.x+i.x)*.5,d=(s.y+i.y)*.5,P=v.rectangle(g,d,c,t,{angle:l}),u=e.collides(P,f),p=0;p<u.length;p+=1){var h=u[p];h.body=h.bodyB=h.bodyA}return u},e.region=function(f,i,s){for(var t=[],l=0;l<f.length;l++){var c=f[l],g=n.overlaps(c.bounds,i);(g&&!s||!g&&s)&&t.push(c)}return t},e.point=function(f,i){for(var s=[],t=0;t<f.length;t++){var l=f[t];if(n.contains(l.bounds,i))for(var c=l.parts.length===1?0:1;c<l.parts.length;c++){var g=l.parts[c];if(n.contains(g.bounds,i)&&r.contains(g.vertices,i)){s.push(l);break}}}return s}})()},function(T,F,x){var e={};T.exports=e;var o=x(4),a=x(18),n=x(0);(function(){var v,r;if(typeof window!="undefined"&&(v=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),!v){var f;v=function(i){f=setTimeout(function(){i(n.now())},1e3/60)},r=function(){clearTimeout(f)}}e.create=function(i){var s={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},t=n.extend(s,i);return t.delta=t.delta||1e3/t.fps,t.deltaMin=t.deltaMin||1e3/t.fps,t.deltaMax=t.deltaMax||1e3/(t.fps*.5),t.fps=1e3/t.delta,t},e.run=function(i,s){return typeof i.positionIterations!="undefined"&&(s=i,i=e.create()),function t(l){i.frameRequestId=v(t),l&&i.enabled&&e.tick(i,s,l)}(),i},e.tick=function(i,s,t){var l=s.timing,c=1,g,d={timestamp:l.timestamp};o.trigger(i,"beforeTick",d),i.isFixed?g=i.delta:(g=t-i.timePrev||i.delta,i.timePrev=t,i.deltaHistory.push(g),i.deltaHistory=i.deltaHistory.slice(-i.deltaSampleSize),g=Math.min.apply(null,i.deltaHistory),g=g<i.deltaMin?i.deltaMin:g,g=g>i.deltaMax?i.deltaMax:g,c=g/i.delta,i.delta=g),i.timeScalePrev!==0&&(c*=l.timeScale/i.timeScalePrev),l.timeScale===0&&(c=0),i.timeScalePrev=l.timeScale,i.correction=c,i.frameCounter+=1,t-i.counterTimestamp>=1e3&&(i.fps=i.frameCounter*((t-i.counterTimestamp)/1e3),i.counterTimestamp=t,i.frameCounter=0),o.trigger(i,"tick",d),o.trigger(i,"beforeUpdate",d),a.update(s,g,c),o.trigger(i,"afterUpdate",d),o.trigger(i,"afterTick",d)},e.stop=function(i){r(i.frameRequestId)},e.start=function(i,s){e.run(i,s)}})()},function(T,F,x){var e={};T.exports=e;var o=x(1),a=x(0);(function(){e.pathToVertices=function(n,v){typeof window!="undefined"&&!("SVGPathSeg"in window)&&a.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,f,i,s,t,l,c,g,d,P,u=[],p,h,m=0,S=0,C=0;v=v||15;var y=function(w,I,A){var E=A%2==1&&A>1;if(!d||w!=d.x||I!=d.y){d&&E?(p=d.x,h=d.y):(p=0,h=0);var B={x:p+w,y:h+I};(E||!d)&&(d=B),u.push(B),S=p+w,C=h+I}},M=function(w){var I=w.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":S=w.x,C=w.y;break;case"H":S=w.x;break;case"V":C=w.y;break}y(S,C,w.pathSegType)}};for(e._svgPathToAbsolute(n),i=n.getTotalLength(),l=[],r=0;r<n.pathSegList.numberOfItems;r+=1)l.push(n.pathSegList.getItem(r));for(c=l.concat();m<i;){if(P=n.getPathSegAtLength(m),t=l[P],t!=g){for(;c.length&&c[0]!=t;)M(c.shift());g=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":s=n.getPointAtLength(m),y(s.x,s.y,0);break}m+=v}for(r=0,f=c.length;r<f;++r)M(c[r]);return u},e._svgPathToAbsolute=function(n){for(var v,r,f,i,s,t,l=n.pathSegList,c=0,g=0,d=l.numberOfItems,P=0;P<d;++P){var u=l.getItem(P),p=u.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in u&&(c=u.x),"y"in u&&(g=u.y);else switch("x1"in u&&(f=c+u.x1),"x2"in u&&(s=c+u.x2),"y1"in u&&(i=g+u.y1),"y2"in u&&(t=g+u.y2),"x"in u&&(c+=u.x),"y"in u&&(g+=u.y),p){case"m":l.replaceItem(n.createSVGPathSegMovetoAbs(c,g),P);break;case"l":l.replaceItem(n.createSVGPathSegLinetoAbs(c,g),P);break;case"h":l.replaceItem(n.createSVGPathSegLinetoHorizontalAbs(c),P);break;case"v":l.replaceItem(n.createSVGPathSegLinetoVerticalAbs(g),P);break;case"c":l.replaceItem(n.createSVGPathSegCurvetoCubicAbs(c,g,f,i,s,t),P);break;case"s":l.replaceItem(n.createSVGPathSegCurvetoCubicSmoothAbs(c,g,s,t),P);break;case"q":l.replaceItem(n.createSVGPathSegCurvetoQuadraticAbs(c,g,f,i),P);break;case"t":l.replaceItem(n.createSVGPathSegCurvetoQuadraticSmoothAbs(c,g),P);break;case"a":l.replaceItem(n.createSVGPathSegArcAbs(c,g,u.r1,u.r2,u.angle,u.largeArcFlag,u.sweepFlag),P);break;case"z":case"Z":c=v,g=r;break}(p=="M"||p=="m")&&(v=c,r=g)}}})()},function(T,F,x){var e={};T.exports=e;var o=x(5),a=x(0);(function(){e.create=o.create,e.add=o.add,e.remove=o.remove,e.clear=o.clear,e.addComposite=o.addComposite,e.addBody=o.addBody,e.addConstraint=o.addConstraint})()}])})});j();})();
/*!
 * matter-js 0.17.1 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
