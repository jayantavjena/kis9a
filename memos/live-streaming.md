上記の図にある通り、一般的には HLS ≒ MPED-DASH > RTMP > WebRTC の順に遅延が少ないです。

WebRTC は P2P の通信であるため、配信側は視聴者の分のデータ変換を行う必要があります。つまり視聴者が増えれば増えるほど、配信側の負担が増加していきます。そのため、大人数が視聴する場合には向いていません。

- [ぼくのかんがえたさいきょうの超低遅延大規模配信 · GitHub](https://gist.github.com/voluntas/0eb505cb5d53fefec6708aa93fd2410d)

- Webrtc SFU
  全員に同一ビットレートを配信する必要がある
  Simulcast や SVC を利用することで解決している
  大規模配信ができない
  多段 (Origin - Edge) にすることで解決している
  同時に多くのユーザを視聴できない
  話をしている人だけを高画質にするなどの負荷を下げる機能を独自に実装することで解決している
  録画ファイルが一つにならない
  録画合成の仕組みを別途用意することで解決している

- SFU (Selective Forwarding Unit)
  SFU という単語が出てきたのはここ数年。ただ概念自体は前からある。 以前だとメディアルーターと呼ばれていた。最近でも SFU と呼ばずメディアルーターと呼ぶ場合もある。 SFU は MCU だと CPU リソースを使われてしまうことから考え出された仕組みだ。 クライアントが配信する音声や映像をサーバが代理で他のクライアントやサーバに送るという仕組み。 そのため、クライアントは 10 人参加者がいた場合でもサーバに映像を送るだけで済む。 P2P の場合のフルメッシュと MCU の間の技術でバランスが良い事もあり WebRTC でクライアント・サーバモデルの場合は SFU が選択されることが多い。 SFU の場合は E2EE が採用できる。実際 Google Duo は 3 人以上の場合は WebRTC SFU を利用しながら、E2EE を実現している。

- VP8 + WebRTC SFU + Simulcast + リレーを利用することで数万人規模に対して 500 ミリ以下の超低遅延で音声や映像を配信することが可能になります。さらには WebRTC のデータチャネルを利用することで文字列やバイナリなどのデータも配信可能です。

- ただし 10 万人などの超大規模に対しては HLS/MPEG-DASH + CDN という世界を利用すべきだと考えています。超大規模で超低遅延の需要はスポーツ中継とかでしょうか ... このあたりは、まだなんとも言えないのが現状です。

- 10000 people x 10yen(1h) = 100000yen
