chief, ansible, kubernetes, terraform.

[【本編 32:17 より】Infra Study Meetup #1「Infrastructure as Code のこれまでとこれから」 - YouTube](https://www.youtube.com/watch?v=_bLzgd_UlbU)

## History<!--{{{-->

2008 年 adam jcob のプレゼンが IaC の初め。 chief は puppet の影響され puppet は cfengine に影響され。IaC という言葉が広がる。

初期の目的は、server の設定の自動化、プロビジョニングが中心しそう。

2008 年 インフラアジャイルの参入

2009 年 DevOps という言葉が出てくる。

2011 年 テスト駆動開発をインフラに応用する CI / CD の思想うの誕生

terrraform, cloudFormation. IaaS への適用。

コンテナ領域への IaC の適用。

<!--}}}-->

## Issue 顕在化した問題<!--{{{-->

- サーバースプロール
  簡単に構築できるため無秩序に広がる。

- 構成ドリフト
  微妙に設定の違うサーバーが増える。
  人による構成の差分。

- スノーフレークサーバー
- 脆弱なインフラ
  システムの全体が脆弱に
- オートメーション恐怖症
  簡単にツールを流せない

- システム疲労
  何もしなくても壊れる現象。ハードウェアの構成管理外のエラー

<!--}}}-->

## IaC の原則<!--{{{-->

変更管理がしやすいようにインフラを構築する。
顕在化した変更管理問題の解決

- 簡単に再現できるシステム
- 使い捨てでできるシステム dynamic infra structure.
- 統一的なシステムの構成
- 反復できるプロセス,再構築のしやすさ。
- 変更管理の用意さ、デザイン。

<!--}}}-->

## Iac プラクティス<!--{{{-->

- 定義ファイル puppet の manifest, chef の resipe, hcl, yaml.
- 自分記述システムとプロセス ドキュメントを書かない、コード化.
- バージョン管理 さまざまな範囲で
- 継続的なテスト
- 小刻みな変更

<!--}}}-->

## IaC Layer<!--{{{-->

- Dynamic Infrastructure Prlatform
- Infrastructure Orchestration Tools
- Server Configuration tools
- Infrastructure Services IaaS

<!--}}}-->

## QA

Q:コードかすべきものと境界線 A:コード化が課題を解決するか？
共通かはなるべく抑える。 Go みたいな書き方がいいかもしれない。
データ思考アップリケーション.
Infra as Strcuture Codes.

[Nature-remo]
コードをなるべく書かない、複雑にしない。
管理レイヤーを増やしす技ない
コンテナオーケストレーションレイヤーより下の基盤は、対象外にした。
コントロールが必要なレイヤーでのコントロール。ECS を頑張る。

[GMO]

本番環境でしかテストを再現しにくい -> 負荷試験、障害等、事前に準備、関しでのリスク管理。
テストファーストを設定しにくい -> アプリケーション側と協業
宣言型テストの価値が低い -> 異常な値のチェック
テストが遅い -> テストスタックの用意、最小単位でのテストの分離 unit 化

サービスメッシュの役割
マイクロサービス化 -> サービスメッシュの考慮 API GW -> service (n) スケールの限界
各サービスの共通化、スケール管理の構成。
コントロールプレーンからサービスプロキシ、関しシステム
