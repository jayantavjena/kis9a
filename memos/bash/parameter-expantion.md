| 記法                       | 意味                                                                         |
| -------------------------- | ---------------------------------------------------------------------------- |
| `${変数:+文字列}`          | 「変数」が空ならば「変数」さもなくば「文字列」を返す。                       |
| `${変数:-文字列}`          | 「変数」が空ならば「文字列」さもなくば「変数」を返す。                       |
| `${変数:=文字列}`          | 「変数」が空ならば「文字列」を「変数」に代入する。                           |
| `${変数-文字列}`           | 「変数」が未定義ならば「文字列」さもなくば「変数」を返す。                   |
| `${変数=文字列}`           | 「変数」が未定義ならば「文字列」を「変数」に代入する。                       |
| `${変数:?文字列}`          | 「変数」が未定義のとき「文字列」をエラーメッセージとして出力する。           |
| `${変数:位置}`             | 「変数」の「位置」文字目から末尾までを返す。                                 |
| `${変数:位置:長さ}`        | 「変数」の「位置」文字目から「長さ」文字を返す。                             |
| `${変数#パターン}`         | 「変数」の先頭から最短の「パターン」を削除したものを返す。                   |
| `${変数##パターン}`        | 「変数」の先頭から最長の「パターン」を削除したものを返す。                   |
| `${変数%パターン}`         | 「変数」の末尾から最短の「パターン」を削除したものを返す。                   |
| `${変数%%パターン}`        | 「変数」の末尾から最長の「パターン」を削除したものを返す。                   |
| `${変数/パターン/文字列}`  | 「変数」の最初にマッチした「パターン」を「文字列」に置換したものを返す。     |
| `${変数/#パターン/文字列}` | 「変数」の先頭でマッチした「パターン」を「文字列」に置換したものを返す。     |
| `${変数/%パターン/文字列}` | 「変数」の末尾でマッチした「パターン」を「文字列」に置換したものを返す。     |
| `${変数//パターン/文字列}` | 「変数」の「パターン」にマッチした部分を全て「文字列」に置換したものを返す。 |
| `${変数^}`                 | 「変数」の先頭を大文字にしたものを返す。                                     |
| `${変数^^}`                | 「変数」を全て大文字にしたものを返す。                                       |
| `${変数,}`                 | 「変数」の先頭を小文字にしたものを返す。                                     |
| `${変数,,}`                | 「変数」を全て小文字にしたものを返す。                                       |
| `${変数~}`                 | 「変数」の先頭を大文字小文字反転したものを返す。                             |
| `${変数~~}`                | 「変数」を全て大文字小文字反転したものを返す。                               |
| `${#変数名}`               | 「変数名」の変数の値の文字数を返す。                                         |
| `${#変数名[*]}`            | 「変数名」の配列の要素数を返す。 `*` は `@` でも可。                         |
| `${変数名[*]}`             | 「変数名」の配列の値の一覧を返す。 `*` は `@` でも可。                       |
| `${!変数名*}`              | 「変数名」で始まる変数名の一覧を返す。                                       |
| `${!変数名[*]}`            | 「変数名」の連想配列のキーの一覧を返す。 `*` は `@` でも可。                 |
| `${変数名[*]}`             | 「変数名」の連想配列の値の一覧を返す。 `*` は `@` でも可。                   |

| 記述                 | 機能                   |
| -------------------- | ---------------------- |
| ${parameter:-word}   | デフォルト値への置換   |
| ${parameter:=word}   | デフォルト値の代入     |
| ${parameter:?[word]} | 値の検査とエラー       |
| ${parameter:+word}   | 代替値の使用           |
| ${#parameter}        | 文字列長の取得         |
| ${parameter%word}    | 最短後置パターンの削除 |
| ${parameter%%word}   | 最長後置パターンの削除 |
| ${parameter#word}    | 最短前置パターンの削除 |
| ${parameter##word}   | 最長前置パターンの削除 |

```sh
url="http://example.com/path/to/file.txt"

echo $url
# http://example.com/path/to/file.txt

echo ${url#*/}
# /example.com/path/to/file.txt

echo ${url##*/}
# file.txt

echo ${url##*.}
# txt

echo ${url%/*}
# http://example.com/path/to

echo ${url%%/*}
# http:

echo ${url/http/https}
# https://example.com/path/to/file.txt

## 文字列の最後の1文字を削除
foo=abcdefg
echo ${foo/%?/}
後方一致除去: ${parameter%word}
```
