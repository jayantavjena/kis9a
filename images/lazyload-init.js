(()=>{var d=typeof window!="undefined",x=d&&!("onscroll"in window)||typeof navigator!="undefined"&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),C=d&&"IntersectionObserver"in window,N=d&&"classList"in document.createElement("p"),y=d&&window.devicePixelRatio>1,et={elements_selector:".lazy",container:x||d?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},D=t=>Object.assign({},et,t),M=function(t,o){var s;let r="LazyLoad::Initialized",a=new t(o);try{s=new CustomEvent(r,{detail:{instance:a}})}catch(n){s=document.createEvent("CustomEvent"),s.initCustomEvent(r,!1,!1,{instance:a})}window.dispatchEvent(s)},ct=(t,o)=>{if(!!o)if(!o.length)M(t,o);else for(let s=0,r;r=o[s];s+=1)M(t,r)},p="loading",R="loaded",V="applied",nt="entered",E="error",H="native",F="data-",B="ll-status",e=(t,o)=>t.getAttribute(F+o),it=(t,o,s)=>{var r=F+o;if(s===null){t.removeAttribute(r);return}t.setAttribute(r,s)},_=t=>e(t,B),l=(t,o)=>it(t,B,o),L=t=>l(t,null),G=t=>_(t)===null,dt=t=>_(t)===p,lt=t=>_(t)===E,P=t=>_(t)===H,ut=[p,R,V,E],_t=t=>ut.indexOf(_(t))>=0,i=(t,o,s,r)=>{if(!!t){if(r!==void 0){t(o,s,r);return}if(s!==void 0){t(o,s);return}t(o)}},u=(t,o)=>{if(N){t.classList.add(o);return}t.className+=(t.className?" ":"")+o},g=(t,o)=>{if(N){t.classList.remove(o);return}t.className=t.className.replace(new RegExp("(^|\\s+)"+o+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},ft=t=>{t.llTempImage=document.createElement("IMG")},gt=t=>{delete t.llTempImage},U=t=>t.llTempImage,b=(t,o)=>{if(!o)return;let s=o._observer;!s||s.unobserve(t)},bt=t=>{t.disconnect()},vt=(t,o,s)=>{o.unobserve_entered&&b(t,s)},I=(t,o)=>{!t||(t.loadingCount+=o)},ht=t=>{!t||(t.toLoadCount-=1)},$=(t,o)=>{!t||(t.toLoadCount=o)},pt=t=>t.loadingCount>0,Et=t=>t.toLoadCount>0,j=t=>{let o=[];for(let s=0,r;r=t.children[s];s+=1)r.tagName==="SOURCE"&&o.push(r);return o},c=(t,o,s)=>{!s||t.setAttribute(o,s)},A=(t,o)=>{t.removeAttribute(o)},q=t=>!!t.llOriginalAttrs,W=t=>{if(q(t))return;let o={};o.src=t.getAttribute("src"),o.srcset=t.getAttribute("srcset"),o.sizes=t.getAttribute("sizes"),t.llOriginalAttrs=o},J=t=>{if(!q(t))return;let o=t.llOriginalAttrs;c(t,"src",o.src),c(t,"srcset",o.srcset),c(t,"sizes",o.sizes)},K=(t,o)=>{c(t,"sizes",e(t,o.data_sizes)),c(t,"srcset",e(t,o.data_srcset)),c(t,"src",e(t,o.data_src))},Q=t=>{A(t,"src"),A(t,"srcset"),A(t,"sizes")},O=(t,o)=>{let s=t.parentNode;if(!s||s.tagName!=="PICTURE")return;j(s).forEach(o)},Lt=(t,o)=>{j(t).forEach(o)},It=t=>{O(t,o=>{J(o)}),J(t)},At=(t,o)=>{O(t,s=>{W(s),K(s,o)}),W(t),K(t,o)},Ot=t=>{O(t,o=>{Q(o)}),Q(t)},St=(t,o)=>{c(t,"src",e(t,o.data_src))},kt=(t,o)=>{Lt(t,s=>{c(s,"src",e(s,o.data_src))}),c(t,"poster",e(t,o.data_poster)),c(t,"src",e(t,o.data_src)),t.load()},Tt={IMG:At,IFRAME:St,VIDEO:kt},wt=(t,o,s)=>{let r=e(t,o.data_bg),a=e(t,o.data_bg_hidpi),n=y&&a?a:r;!n||(t.style.backgroundImage=`url("${n}")`,U(t).setAttribute("src",n),Y(t,o,s))},zt=(t,o,s)=>{let r=e(t,o.data_bg_multi),a=e(t,o.data_bg_multi_hidpi),n=y&&a?a:r;!n||(t.style.backgroundImage=n,xt(t,o,s))},X=(t,o)=>{let s=Tt[t.tagName];!s||s(t,o)},xt=(t,o,s)=>{u(t,o.class_applied),l(t,V),o.unobserve_completed&&b(t,o),i(o.callback_applied,t,s)},Y=(t,o,s)=>{I(s,1),u(t,o.class_loading),l(t,p),i(o.callback_loading,t,s)},Ct=["IMG","IFRAME","VIDEO"],Nt=t=>Ct.indexOf(t.tagName)>-1,Z=(t,o)=>{o&&!pt(o)&&!Et(o)&&i(t.callback_finish,o)},m=(t,o,s)=>{t.addEventListener(o,s),t.llEvLisnrs[o]=s},yt=(t,o,s)=>{t.removeEventListener(o,s)},S=t=>!!t.llEvLisnrs,Dt=(t,o,s)=>{S(t)||(t.llEvLisnrs={});let r=t.tagName==="VIDEO"?"loadeddata":"load";m(t,r,o),m(t,"error",s)},k=t=>{if(!S(t))return;let o=t.llEvLisnrs;for(let s in o){let r=o[s];yt(t,s,r)}delete t.llEvLisnrs},tt=(t,o,s)=>{gt(t),I(s,-1),ht(s),g(t,o.class_loading),o.unobserve_completed&&b(t,s)},Mt=(t,o,s,r)=>{let a=P(o);tt(o,s,r),u(o,s.class_loaded),l(o,R),i(s.callback_loaded,o,r),a||Z(s,r)},Rt=(t,o,s,r)=>{let a=P(o);tt(o,s,r),u(o,s.class_error),l(o,E),i(s.callback_error,o,r),a||Z(s,r)},T=(t,o,s)=>{let r=U(t)||t;if(S(r))return;Dt(r,h=>{Mt(h,t,o,s),k(r)},h=>{Rt(h,t,o,s),k(r)})},Vt=(t,o,s)=>{ft(t),T(t,o,s),wt(t,o,s),zt(t,o,s)},Ht=(t,o,s)=>{T(t,o,s),X(t,o),Y(t,o,s)},w=(t,o,s)=>{Nt(t)?Ht(t,o,s):Vt(t,o,s)},Ft=(t,o,s)=>{t.setAttribute("loading","lazy"),T(t,o,s),X(t,o),l(t,H)},Bt=(t,o,s,r)=>{!s.cancel_on_exit||!dt(t)||t.tagName==="IMG"&&(k(t),Ot(t),It(t),g(t,s.class_loading),I(r,-1),L(t),i(s.callback_cancel,t,o,r))},Gt=(t,o,s,r)=>{let a=_t(t);l(t,nt),u(t,s.class_entered),g(t,s.class_exited),vt(t,s,r),i(s.callback_enter,t,o,r),!a&&w(t,s,r)},Pt=(t,o,s,r)=>{G(t)||(u(t,s.class_exited),Bt(t,o,s,r),i(s.callback_exit,t,o,r))},Ut=["IMG","IFRAME","VIDEO"],ot=t=>t.use_native&&"loading"in HTMLImageElement.prototype,$t=(t,o,s)=>{t.forEach(r=>{Ut.indexOf(r.tagName)!==-1&&Ft(r,o,s)}),$(s,0)},jt=t=>t.isIntersecting||t.intersectionRatio>0,qt=t=>({root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}),Wt=(t,o,s)=>{t.forEach(r=>jt(r)?Gt(r.target,r,o,s):Pt(r.target,r,o,s))},Jt=(t,o)=>{o.forEach(s=>{t.observe(s)})},Kt=(t,o)=>{bt(t),Jt(t,o)},Qt=(t,o)=>{!C||ot(t)||(o._observer=new IntersectionObserver(s=>{Wt(s,t,o)},qt(t)))},st=t=>Array.prototype.slice.call(t),z=t=>t.container.querySelectorAll(t.elements_selector),Xt=t=>st(t).filter(G),Yt=t=>lt(t),Zt=t=>st(t).filter(Yt),rt=(t,o)=>Xt(t||z(o)),mt=(t,o)=>{Zt(z(t)).forEach(r=>{g(r,t.class_error),L(r)}),o.update()},to=(t,o)=>{!d||window.addEventListener("online",()=>{mt(t,o)})},f=function(t,o){let s=D(t);this._settings=s,this.loadingCount=0,Qt(s,this),to(s,this),this.update(o)};f.prototype={update:function(t){let o=this._settings,s=rt(t,o);if($(this,s.length),x||!C){this.loadAll(s);return}if(ot(o)){$t(s,o,this);return}Kt(this._observer,s)},destroy:function(){this._observer&&this._observer.disconnect(),z(this._settings).forEach(t=>{delete t.llOriginalAttrs}),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){let o=this._settings;rt(t,o).forEach(r=>{b(r,this),w(r,o,this)})}};f.load=(t,o)=>{let s=D(o);w(t,s)};f.resetStatus=t=>{L(t)};d&&ct(f,window.lazyLoadOptions);var at=f;var v=(t,o)=>{console.log(Date.now(),t,o.getAttribute("data-src"),o.getAttribute("src"))},oo={elements_selector:".lazy",to_webp:!0,callback_enter:t=>{v("ENTERED",t)},callback_load:t=>{v("LOADED",t)},callback_set:t=>{v("SET",t)},callback_error:t=>{v("ERROR",t)}},so=()=>new at(oo),eo=()=>{document.addEventListener("DOMContentLoaded",so)};})();
