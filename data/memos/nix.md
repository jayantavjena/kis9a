|                    | Nix                                                                        | Docker                                                                                                                     |
| ------------------ | -------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------- |
| 実行環境           | 通常のユーザー環境                                                         | コンテナ                                                                                                                   |
| 実行権限           | ユーザーと同じ権限                                                         | ルート権限                                                                                                                 |
| MacOS での利用     | MacOS のネイティブ(homebrew 的な立ち位置で使える。)                        | コンテナ内の Linux                                                                                                         |
| 再現性の担保方法   | 依存するファイルのハッシュで担保（実行したときによらず同じ結果になるはず） | ビルドしたときのスナップショットで担保                                                                                     |
| ビルドの再現性     | いつ実行しても同じものができる。                                           | 実行したときの最新のファイルがインストールされる。ダウンロードするファイルが違う可能性がある。                             |
| ビルドプロセス     | Nix 言語で記述：apt や yum は使えない。                                    | Dockerfile で記述：apt や yum が使える。                                                                                   |
| キャッシュする単位 | パッケージごと                                                             | スナップショット全体(各ビルドのステップごとにキャッシュができますが、一部を変更するとそれ以降はすべてやり直しになります。) |
