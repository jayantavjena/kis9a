import{h,text,app,memo}from"/js/lib/hyperapp.js";const onRoute=()=>{const a=window.location.pathname;console.log("on route",a)};window.history.pushState=()=>{console.log("pushState"),onRoute()};const randomHex=()=>"0123456789ABCDEF"[Math.floor(Math.random()*16)],randomColor=()=>"#"+Array.from({length:6},randomHex).join(""),listView=a=>h("p",{style:{backgroundColor:randomColor(),color:randomColor()}},text(a)),MoreItems=a=>({...a,list:[...a.list,randomHex()]}),Increment=a=>({...a,counter:a.counter+1}),nview=()=>h("h1",{},text("nview")),fview=()=>h("h1",{},text("fview")),ChangeUrl=a=>(window.history.replaceState("","","/about"),onRoute(),{...a}),ToHome=a=>(window.history.replaceState("","","/"),onRoute(),{...a});app({init:{list:["a","b","c"],counter:0,route:"home"},view:a=>h("main",{},[h("button",{onclick:MoreItems},text("Grow list")),h("button",{onclick:Increment},text("+1 to counter")),h("button",{onclick:ChangeUrl},text("change")),h("button",{onclick:ToHome},text("change")),h("p",{},text(`Counter: ${a.counter}`)),h("p",{},text("Regular view showing list:")),listView(a.list),h("p",{},text("Memoized view showing list:")),memo(listView,a.list),a.route=="home"&&nview(),a.route=="about"&&fview()]),subscriptions:a=>{const b=window.location.pathname;b=="/about"?a.route="about":b=="/"&&(a.route="home"),console.log(a.route)},node:document.getElementById("app")})